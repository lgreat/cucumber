<?xml version="1.0" encoding="UTF-8"?>
<jsp:root version="2.0"
          xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:link="urn:www.greatschools.org/taglib/link"
        >
    <!--
    We check for ad free sites because mcguire and framed don't have cobrand headers

    This tag pulls in the static cobrand header as follows. If we're on yahoo.greatschools.org it
    pulls http://yahoo.greatschools.org/templates/local/nav/topnav.insrt

    Cobrand headers will eventually need to be moved into a database so we don't have to create a separate
    http request just to fetch them.
    -->
    <c:if test="${requestScope.context.cobranded and !requestScope.pageHelper.adFree}">
        <div id="headerCobrand">
            <!-- Backup the onload function because some cobrands overwrite it -->
            <script type="text/javascript" language="javascript">
                oldonload = window.onload;
            </script>
            <jsp:scriptlet>
                try {
            </jsp:scriptlet>
            <c:import url="http://${requestScope.context.hostName}/templates/local/nav/topnav.insrt"/>
            <jsp:scriptlet>
                } catch (Exception e) {
                    // Do nothing
                }
            </jsp:scriptlet>
            <!-- Restore the onload function because some cobrands overwrite it -->
            <script type="text/javascript" language="javascript">
                window.onload = oldonload;
            </script>
        </div>
    </c:if>
</jsp:root>