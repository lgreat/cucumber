<?xml version="1.0" encoding="UTF-8"?>
<jsp:root version="2.0"
          xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          xmlns:gsweb="gstaglib"
          xmlns:school="urn:jsptagdir:/WEB-INF/tags/school"
        >

    <jsp:directive.attribute name="sportsModel" type="java.lang.Object" required="true"/>
    <c:set var="content" value="${sportsModel['content']}"/>
    <c:set var="boysSports" value="${sportsModel.boys_sports}" scope="page"/>

    <!-- Boys sports -->

    <p class="small_bold bottom">Boys</p>

    <div>
        <ul class="small bottom">
            <c:set var="showMax" value="${4}"/>
            <c:set var="loopMax" value="${fn:length(boysSports) le showMax ? fn:length(boysSports) : 3}"/>
            <c:set var="showMore" value="${fn:length(boysSports) gt showMax ? 'true' : 'false'}"/>
            <c:forEach var="item" items="${boysSports}" varStatus="status">
                <c:if test="${status.count le loopMax}">
                    <li>${gsweb:abbreviateAtWhitespace(item,25)}</li>
                </c:if>
                <c:if test="${status.count eq loopMax and showMore}">
                    <li><a href="javascript:void(0);">More &amp;raquo;</a></li>
                </c:if>
            </c:forEach>
        </ul>
    </div>

</jsp:root>