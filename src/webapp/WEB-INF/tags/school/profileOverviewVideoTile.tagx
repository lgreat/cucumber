<?xml version="1.0" encoding="UTF-8"?>
<jsp:root version="2.0"
          xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          xmlns:school="urn:jsptagdir:/WEB-INF/tags/school"
          xmlns:gslink="urn:jsptagdir:/WEB-INF/tags/link"
          xmlns:link="urn:www.greatschools.org/taglib/link"
        >

    <jsp:directive.attribute name="videoModel" type="java.lang.Object" required="true"/>
    <jsp:directive.attribute name="school" type="gs.data.school.School" required="true"/>

    <c:set var="content" value="${videoModel['content']}" scope="page"/>
    <c:set var="videoUrl" value="${videoModel['videoUrl']}" scope="page"/>

    <c:if test="${!(fn:containsIgnoreCase(videoUrl, 'http://'))}">
        <c:set var="videoUrl" value="http://${videoUrl}" />
    </c:if>

    <c:choose>
        <c:when test="${content eq 'video'}">
            <c:set var="t3dc">
                <p class="small_bold textshadow-1 pvs plm bottom make-555555">Videos</p>
                <p class="small js-popup" style="width:42px;">More &amp;raquo;</p>
                <div class="clearfloat"><!-- do not collapse --></div>
            </c:set>

                <div class="mod standard_1-1">
                    <div class="inner box-shadow-animation-1">
                        <div id="js-tile-3-0">
                            <gslink:linkToTab tabName="culture" cssClass="tdn make-555555 js-trigger">
                                <div class="hd pr">
                                    ${t3dc}
                                </div>
                            </gslink:linkToTab>
                        </div>
                        <a class="tdn make-555555" href="${videoUrl}" target="_blank">
                            <div class="bd">
                                <div class="mam" style="height:139px;">
                                    <div class="media mls ptm">
                                        <span class="iconx48 i-48-video_placeholder img mrs"><!-- do not collapse --></span>
                                        <div class="bd fl">
                                            <p class="small"><span class="small_bold">Watch now</span><br/>
                                                <span class="make-06b">See a video</span><br/>
                                                featuring this school.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>

        </c:when>
        <c:otherwise>
            <c:set var="districtParam" value=""/>
            <c:if test="${school.districtId ne 0}">
                <c:set var="districtParam" value="&amp;amp;districtId=${school.districtId}"/>
            </c:if>
            <link:districtBoundaryTool styleClass="tdn" school="${school}" onclick="if (s.tl) { s.tl(this, 'o', 'overview_schoolboundaries'); }">
                <div class="mod standard_3-1">
                    <div class="outer">
                        <div class="inner bg-districtMap ie-moduleHeight-162">
                            <div class="hd">
                                <h3 class="bottom">What schools are available to you?</h3>
                            </div>
                            <div class="bd" style="height:100px;">
                                <p class="small mtm">Find attendance<br />
                                    zones for your<br />
                                    address &amp;raquo;
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </link:districtBoundaryTool>
        </c:otherwise>
    </c:choose>

</jsp:root>
