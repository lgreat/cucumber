<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"
       default-lazy-init="true">

    <!-- TH: DO NOT put a defaultHandlerMapping here with interceptors that are also in pages-servlet -->
    <!-- They will be run multiple times causing performance problems -->

    <bean name="/search.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/search</value>
        </property>
    </bean>

    <bean name="/school/review/recentParentReviews.module"
          class="gs.web.school.review.RecentParentReviewsController"
          autowire="byName">
    </bean>

    <bean id="communityQuestionPromoTableFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pmY-74KD4CbXrSKtrPdEnSg"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
    </bean>

    <bean name="/community/communityQuestionPromo.module"
          class="gs.web.community.CommunityQuestionPromoController"
          autowire="byName" lazy-init="true">
        <property name="viewName" value="/community/communityQuestionPromo"/>
        <property name="tableDao">
            <bean factory-bean="communityQuestionPromoTableFactory" factory-method="getTableDao"/>
        </property>
    </bean>

    <!--<bean name="/school/donorsChoice.module"-->
          <!--class="gs.web.school.DonorsChoiceController"-->
          <!--autowire="byName" lazy-init="true">-->
        <!--<property name="viewName" value="/school/donorsChoice"/>-->
        <!--<property name="apiKey" value="DONORSCHOOSE"/>-->
    <!--</bean>-->

    <bean id="relatedCategoryPostsFeedDaoFactory"
          class="gs.data.util.feed.CachedFeedDaoFactory" lazy-init="true">
        <property name="cacheName" value="relatedCategoryPosts"/>
        <property name="cacheSize" value="160"/>
        <property name="cacheEntryTTLSeconds" value="3600"/>
        <property name="cacheEntryIdleSeconds" value="3600"/>
    </bean>

    <bean name="/community/relatedPostsCategoryBrowse.module"
          class="gs.web.community.RelatedCategoryPostsController"
          autowire="byName" lazy-init="true">
        <property name="viewName" value="/community/relatedPostsCategoryBrowse"/>
        <property name="numberOfEntriesToShow" value="5"/>
        <property name="feedDao">
            <bean factory-bean="relatedCategoryPostsFeedDaoFactory" factory-method="getFeedDao"/>
        </property>
    </bean>

    <bean id="testScoreLandingLinksTableFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pYwV1uQwaOCJGhxtFDPHjTg"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
        <property name="worksheetName" value="od7"/>
    </bean>

    <bean name="/test/testScoreLandingLinks.module"
          class="gs.web.test.TestScoreLandingLinksController"
          autowire="byName" lazy-init="true">
        <property name="viewName" value="/test/testScoreLandingLinks"/>
        <property name="tableDao">
            <bean factory-bean="testScoreLandingLinksTableFactory" factory-method="getTableDao"/>
        </property>
    </bean>

    <bean id="linksFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pHIaC-TrslBhDBlR3glRcMg"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
    </bean>

    <bean name="/content/links.module"
          class="gs.web.content.LinksController" autowire="byName" lazy-init="true">
        <property name="tableDao">
            <bean factory-bean="linksFactory" factory-method="getTableDao"/>
        </property>
        <property name="devWorksheetName" value="od6"/>
        <property name="stagingWorksheetName" value="od4"/>
        <property name="productionWorksheetName" value="od7"/>
    </bean>

    <bean id="splashLinksFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pHIaC-TrslBggU-ztR9LgTw"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
    </bean>

    <bean name="/content/splashLinks.module"
          class="gs.web.content.LinksController" lazy-init="true">
        <property name="tableDao">
            <bean factory-bean="splashLinksFactory" factory-method="getTableDao"/>
        </property>
        <property name="devWorksheetName" value="od6"/>
        <property name="stagingWorksheetName" value="od7"/>
        <property name="productionWorksheetName" value="od4"/>
    </bean>

    <bean id="pressClippingsFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pHIaC-TrslBgQGIlLNGtLQw"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
    </bean>

    <bean name="/about/pressClippings.module"
          class="gs.web.about.PressClippingsController" autowire="byName" lazy-init="true">
        <property name="tableDao">
            <bean factory-bean="pressClippingsFactory" factory-method="getTableDao"/>
        </property>
        <property name="internalWorksheetName" value="od6"/>
        <property name="productionWorksheetName" value="od7"/>
    </bean>

    <bean id="pressReleasesFactory"
          class="gs.web.util.google.GoogleSpreadsheetDaoFactory" lazy-init="true">
        <property name="googleKey" value="pHIaC-TrslBggoZaQ0BWuQw"/>
        <property name="visibility" value="public"/>
        <property name="projection" value="values"/>
    </bean>

    <bean name="/about/pressReleases.module"
          class="gs.web.about.PressReleasesController" autowire="byName" lazy-init="true">
        <property name="tableDao">
            <bean factory-bean="pressReleasesFactory" factory-method="getTableDao"/>
        </property>
        <property name="internalWorksheetName" value="od6"/>
        <property name="productionWorksheetName" value="od7"/>
    </bean>

    <bean name="/promo/articleCommunityWidget.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController"
          autowire="byName" lazy-init="true">
        <property name="viewName" value="/promo/articleCommunityWidget"/>
    </bean>

    <bean name="/content/parentPoll.module"
          class="gs.web.content.ParentPollController"
          autowire="byName">
        <property name="viewName">
            <value>/parentPoll</value>
        </property>
    </bean>

    <bean name="/search/schoolsTable.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/search/schoolsTable</value>
        </property>
    </bean>

    <bean name="/school/compareFooter.module"
          class="gs.web.school.CompareFooterModuleController"
          autowire="byName">
    </bean>

    <bean name="/content/leftNav.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/content/leftNav</value>
        </property>
    </bean>

    <bean name="/header/moveChoose.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/header/moveChoose</value>
        </property>
    </bean>

    <bean name="/state/topDistricts.module"
          class="gs.web.state.TopDistrictsController"
          autowire="byName">
        <property name="viewName">
            <value>/unorderedList</value>
        </property>
    </bean>

    <bean name="/state/topCities.module"
          class="gs.web.state.TopCitiesController"
          autowire="byName">
        <property name="viewName">
            <value>/unorderedList</value>
        </property>
    </bean>

    <bean name="/geo/nearbyCities.module"
          class="gs.web.geo.NearbyCitiesController"
          autowire="byName">
        <property name="viewName">
            <value>/unorderedList</value>
        </property>
    </bean>

    <bean name="/geo/cityStats.module"
          class="gs.web.geo.GeoController"
          autowire="byName">
        <property name="viewName">
            <value>/geo/cityStats</value>
        </property>
    </bean>

    <bean name="/geo/citySchoolStats.module"
          class="gs.web.geo.GeoController"
          autowire="byName">
        <property name="viewName">
            <value>/geo/citySchoolStats</value>
        </property>
    </bean>

    <bean name="/promo/featuredArticles.module"
          class="gs.web.content.FeaturedArticlesController"
          autowire="byName">
        <property name="singleArticleViewName">
            <value>/promo/featuredArticles</value>
        </property>
        <property name="multipleArticlesViewName">
            <value>/unorderedList</value>
        </property>
    </bean>

    <bean name="/about/feedback/submitPreschoolInfoSubset.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/about/feedback/submitPreschoolInfoSubset</value>
        </property>
    </bean>

    <bean name="/about/feedback/submitPrivateSchoolInfoSubset.module"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName">
            <value>/about/feedback/submitPrivateSchoolInfoSubset</value>
        </property>
    </bean>

    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass">
            <value>org.springframework.web.servlet.view.JstlView</value>
        </property>
        <property name="prefix">
            <value>/WEB-INF/module/</value>
        </property>
        <property name="suffix">
            <value>.jspx</value>
        </property>
    </bean>

</beans>