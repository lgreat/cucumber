<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          version="2.0" xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          >
<jsp:directive.page import="gs.web.util.CookieUtil"/>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<jsp:directive.page contentType="text/html"/>
<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
<jsp:scriptlet>
    request.setAttribute("isHubUser", CookieUtil.getCookieValue(request, "ishubUser"));
</jsp:scriptlet>
<head>
    <c:choose>
        <c:when test="${not empty isHubUser or not empty isHubUserSet}">
            <meta name="decorator" content="standardDecorator-hubs"/>
        </c:when>
        <c:otherwise>
            <meta name="decorator" content="standardDecorator-v1"/>
        </c:otherwise>
    </c:choose>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content=" Enter zip code or address to see school and district boundary lines on our interactive map."
          name="description"/>
    <title>School and District Boundaries Map | GreatSchools</title>

    <pageHelper:externalJavascript head="false" file="/res/js/history.min.js"/>
    <pageHelper:externalJavascript head="false" file="http://maps.googleapis.com/maps/api/js?client=gme-greatschoolsinc&amp;sensor=false&amp;signature=OXbNRPWooYBwVYP50cQjzvgBk1k="/>
    <pageHelper:externalJavascript head="false" file="/res/js/googleMapsInfobox.min.js"/>
    <pageHelper:externalJavascript head="false" file="/res/js/jquery.boundaries.js"/>
    <pageHelper:externalJavascript head="false" file="/res/js/boundary.js"/>



    <script type="text/javascript">
        <![CDATA[

        $(function(){
            var $loading = $('#js_loading');
            $(document).ajaxStart(function() {$loading.show().removeClass('dn');});
            $(document).ajaxStop(function(){$loading.hide().addClass('dn');});
            $(document).ajaxError(function(){$loading.hide().addClass('dn');});

            var boundary = new Boundary();

            boundary.init(document.getElementById('map-canvas')
                , document.getElementById('districtList')
                , document.getElementById('js_districtHeader')
                , document.getElementById('schoolList')
                , $('.js_mapLevelCode')
                , document.getElementById('searchLocationForm')
                , document.getElementById('js_schoolType_private')
                , document.getElementById('js_schoolType_charter')
                , document.getElementById('js_reloadMap')
                , document.getElementById('js_nearbyHomesForSale')
                , document.getElementById('district_name_header')
            );
        });

        ]]>
    </script>

</head>
<gsml:body adPageName="districtBoundary" pageLayout="leftside">
<div class="container_24 clearfix">
<div class="mtl tac">
<div class="phs tal"><h1 class="bottom">School and District Boundaries Map</h1>
    <p class="mtm">Researching schools in your neighborhood is a snap with our interactive map tool. Enter an address to see school attendance and district boundary lines. Go ahead and give it a spin.</p>
</div>
<div class="mod standard_4-1 tal">
    <div class="outer">
        <div class="inner">
            <div class="hd clearfix">
                <div class="fl">
                    <form action="" id="searchLocationForm" onsubmit="return false;">
                        <!--placeholder="Enter an address to see available schools"-->
                        <input type="text" alt="Search location" name="addressQuery" id="js_mapAddressQuery"
                               class="searchText input_8 mrm"

                               value="Enter an address to see available schools"
                               onfocus="if(this.value=='Enter an address to see available schools'){this.value='';}"
                               onblur="if(this.value==''){this.value='Enter an address to see available schools';}"/>
                        <button type="submit" name="loadAddress" id="js_loadAddress" class="button-1">Search
                        </button>
                    </form>
                </div>
                <div id="js_nearbyHomesForSale" class="fr dn">
                    <div class="di vam mrs"><span class="iconx16 i-16-home-sales"><!-- do not collapse --></span></div>

                    <div class="di vam"><a href="#" class="small" target="_blank"  onclick="if (s.tl) {s.tl(this,'o', 'Zillow_BoundariesMap');} return true;">Nearby homes for sale</a></div>
            </div>

            </div>
            <div class="bd clearfix">
                <div class="alpha grid_7 omega mtm">
                    <div class="js_showWithMap dn">
                        <div id="js_districtHeader" class="dn mlm mbm"><!-- not empty -->
                            <div class="media skin-1 attribution">
                                <div class="img mrm">
                                    <div id='ratings-test' class="square-large"><!--Do not collapse--></div>
                                </div>

                                <div class="bd">
                                    <h4 id="school-name-test" class="bottom"><!--School Name--></h4>
                                </div>
                            </div>
                        </div>

                        <c:set var="agent" value="${fn:toLowerCase(header['user-agent'])}"/>
                        <c:set var="ptSet" value="${fn:contains(agent, 'msie 7') ? 'pts ' : 'ptm'}"/>
                        <c:set var="pvSet" value="${fn:contains(agent, 'msie 7') ? 'pvs ' : 'pvm'}"/>

                        <div id="districtListDiv" class="mlm ${ptSet}">
                            <h6 class="bottom" id="district_name_header">District name</h6>
                            <hr class="keyline2"/>
                            <div class="${pvSet}">
                                <select id="districtList" class="input_7"><!-- not empty --></select>
                            </div>
                        </div>

                        <div class="mlm  ${ptSet}">
                            <h6 class="bottom">Grade level</h6>
                            <hr class="keyline2"/>
                            <div class="${pvSet}">
                                <gsml:radio name="level_code" styleClass="js_mapLevelCode"
                                            styleId="mapLevelCode_e"
                                            value="e"
                                            checked="${empty param.level or param.level == 'e' or (param.level != 'e' and param.level != 'm' and param.level != 'h')}"/>
                                <label for="mapLevelCode_e" class="radio">Elementary </label>
                                <gsml:radio name="level_code" styleClass="js_mapLevelCode"
                                            styleId="mapLevelCode_m"
                                            value="m"
                                            checked="${param.level == 'm'}"/>
                                <label for="mapLevelCode_m" class="radio">Middle </label>
                                <gsml:radio name="level_code" styleClass="js_mapLevelCode"
                                            styleId="mapLevelCode_h"
                                            value="h"
                                            checked="${param.level == 'h'}"/>
                                <label for="mapLevelCode_h" class="radio">High </label>
                            </div>
                        </div>

                        <div id="schoolListWrapper" class="dn  ptm">
                            <h6 class="mlm bottom">Schools in District</h6>

                            <div id="schoolListDiv">
                                <div id="schoolList"><!--Do not collapse--></div>
                                <!--<ul id="schoolList" class="none">&lt;!&ndash; not empty &ndash;&gt;</ul>-->
                            </div>
                        </div>
                    </div>

                    <div>
                        <!--TODO: remove-->
                        <!--<p>Show on map:</p>-->
                        <!--<gsml:checkbox name="schoolType_public" styleId="js_schoolType_public" checked="${true}"/>-->
                        <!--<label for="js_schoolType_public">Public/Charter schools (in district)</label>-->
                        <!--<br/>-->
                        <!--<gsml:checkbox name="schoolType_charter" styleId="js_schoolType_charter" checked="${false}"/>-->
                        <!--<label for="js_schoolType_charter">Charter schools (not part of district)</label>-->
                        <!--<br/>-->
                        <!--<gsml:checkbox name="schoolType_private" styleId="js_schoolType_private" checked="${false}"/>-->
                        <!--<label for="js_schoolType_private">Private schools (not part of district)</label>-->
                    </div>

                    <!--<div class="js_showWithMap dn">-->
                    <!--<div id="districtListDiv">-->
                    <!--<p>Nearby districts:</p>-->
                    <!--<select id="districtList">&lt;!&ndash; not empty &ndash;&gt;</select>-->
                    <!--</div>-->
                    <!--<div id="schoolListWrapper" class="dn">-->
                    <!--<div>Schools:</div>-->
                    <!--<div id="schoolListDiv">-->
                    <!--<ul id="schoolList">&lt;!&ndash; not empty &ndash;&gt;</ul>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->
                </div>
                <div class="alpha grid_17 omega fr">
                    <div class="js_showWithMap dn">
                        <div id="map-wrapper">

                            <div id="map-canvas"><!-- not empty --></div>
                            <div id="js_loading" class="but but-sm but-2 dn">Loading ...</div>
                            <button class="but but-sm but-2 db-reload" id="js_reloadMap">Redo search at this location
                            </button>
                        </div>
                        <c:if test="${param.debug}">
                            <button name="reload" class="db-reload" id="js_reloadMap">Reload at this location</button>
                            <button name="clearAll" id="js_clearAll">Debug: Clear All</button>
                            <button name="clearPolygons" id="js_clearPolygons">Debug: Clear Polygons</button>
                            <button name="drawAllDistricts" id="js_drawAllDistricts"
                                    class="">Debug: Draw all districts
                            </button>
                            <button name="getSAZ" id="js_getSAZ"
                                    class="dn">Debug: Load SAZ for selected district
                            </button>
                            <button name="drawAllDistrictsAndSAZ" id="js_drawAllDistrictsAndSAZ"
                                    class="dn">Debug: Draw all districts and SAZ (Warning!)
                            </button>
                            <div class="options">
                                Map click behavior:
                                <input type="radio" name="mapClickBehavior" class="js_mapClickBehavior"
                                       id="mapClickLoadSchool"
                                       value="loadSchool" checked="checked"/><label
                                    for="mapClickLoadSchool">Show Boundaries</label>
                                <input type="radio" name="mapClickBehavior" class="js_mapClickBehavior"
                                       id="mapClickLoadDistrict" value="loadDistrict"/><label
                                    for="mapClickLoadDistrict">Show Only District Boundary</label>
                            </div>
                        </c:if>
                    </div>
                    <div class="dn">
                        <div id="boundaryMapDistrictInfoWindow">
                            <div class="hd small bottom">
                                <div class="js_name"><!-- not empty --></div>
                            </div>
                            <div class="bd small">
                                <div class="js_address"><!-- not empty --></div>
                            </div>
                            <div class="down-pointer">
                                <div class="border-edge"><!-- not empty --></div>
                                <div class="border-bd"><!-- not empty --></div>
                            </div>
                        </div>
                        <div id="boundaryMapSchoolInfoWindow">
                            <div class="hd small bottom">
                                <div class="js_name"><!-- not empty --></div>
                            </div>
                            <div class="bd small bottom">
                                <div class="js_address"><!-- not empty --></div>
                                <div class="mbm">
                                    <div class="media attribution js_homesforsale">
                                        <div class="img di prs mrn">
                                            <span class="iconx16 i-16-home-sales vam"><!-- do not collapse --></span>
                                        </div>
                                        <div class="di mln pln">
                                            <a href="" class="vam" onclick="if (s.tl) {s.tl(this,'o', 'Zillow_BoundariesMap');} return true;">Homes for sale</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="js_comments"><!-- not empty --></div>
                            <div class="down-pointer">
                                <div class="border-edge"><!-- not empty --></div>
                                <div class="border-bd"><!-- not empty --></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="prefix_15 grid_9">
            <span class="smaller quiet">
                School Boundaries &#169; Maponics 2012. Duplication is strictly prohibited.
            </span>
    </div>
</div>




<div class="prefix_7 grid_17 ">
    <div class="lal">
        <div class="alpha grid_7">
            <h6 class="bottom">Show schools that are not part of a district:</h6>
        </div>
        <div class="grid_10 omega tal">
            <div class="di vam"><gsml:checkbox name="schoolType_public" styleId="js_schoolType_public" styleClass="dn"
                           checked="${true}"/></div>
            <div class="di vam"><label style="display:none;" for="js_schoolType_public"
                   class="checkbox">Public/Charter schools (in district)</label></div>
            <div class="di vam"><gsml:checkbox name="schoolType_charter" styleId="js_schoolType_charter" checked="${false}"
                           onclick="clickCapture.capture('eVar74','Dist Bounds Charter Filter'); return true;"/></div>
            <div class="di vam mrm"><label for="js_schoolType_charter" class="checkbox">Charter</label></div>
            <div class="di vam"><gsml:checkbox name="schoolType_private" styleId="js_schoolType_private" checked="${false}"
                           onclick="clickCapture.capture('eVar73','Dist Bounds Private Filter'); return true;"/></div>
            <div class="di vam"><label for="js_schoolType_private" class="checkbox">Private</label></div>
            <!--<div style="clear:both">&lt;!&ndash; do not collapse &ndash;&gt;</div>-->
        </div>
    </div>
    <hr class="keyline2"/>
    <!-- TODO: update legend -->
    <div class="mtm tal grid_17">
        <div class="media attribution fl mrm">
            <div class="img prs di">
                <span class="iconx24 i-24-district-badge"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">District</span>
            </div>
        </div>

        <div class="media attribution fl mrm">
            <div class="img prs di">
                <span class="iconx24 i-24-private-school-badge"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">Private</span>
            </div>
        </div>

        <div class="media attribution fl mrm">
            <div class="img prs di">
                <span class="iconx24 i-24-public-school-badge"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">Public/Charter</span>
            </div>
        </div>

        <div class="media attribution fl mrm">
            <div class="img prs di">
                <span class="iconx24 i-24-not-rated-badge"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">No Greatschools rating</span>
            </div>
        </div>

        <div class="media attribution fl mrm">
            <div class="img prs di">
                <span class="iconx24 i-24-school-enrollment"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">School&amp;nbsp;Enrollment</span>
            </div>
        </div>

        <div class="media attribution fl">
            <div class="img prs di">
                <span class="iconx24 i-24-district-boundary"><!-- do not collapse --></span>
            </div>
            <div class="bd di mts">
                <span class="smaller">District&amp;nbsp;Boundary</span>
            </div>
        </div>
    </div>
    <div class="mtm tal grid_17">
        <div class="standard_2-1">
            <div class="inner">
                <div class="small_bold bottom">Introducing the new &amp; improved GreatSchools Rating</div>
                <div class="alpha grid_16 omega mts">
                    <div class="media attribution fl mrm">
                        <div class="img prs di">
                            <span class="iconx24 i-24-public-high-badge"><!-- do not collapse --></span>
                        </div>
                        <div class="bd di mts">
                            <span class="smaller">Above average (8-10)</span>
                        </div>
                    </div>

                    <div class="media attribution fl mrm">
                        <div class="img prs di">
                            <span class="iconx24 i-24-public-medium-badge"><!-- do not collapse --></span>
                        </div>
                        <div class="bd di mts">
                            <span class="smaller">Average (4-7)</span>
                        </div>
                    </div>

                    <div class="media attribution fl">
                        <div class="img prs di">
                            <span class="iconx24 i-24-public-low-badge"><!-- do not collapse --></span>
                        </div>
                        <div class="bd di mts">
                            <span class="smaller">Below average (1-3)</span>
                        </div>
                    </div>
                    <br/>
                </div>
                <div class="alpha grid_16 omega">
                    <span class="small quiet">In some cities, the GreatSchools Rating is now based on a combination of academic performance and school climate factors, such as safety, cleanliness, and parent involvement. <a
                            href="/about/gsFaq.page#faq-newAndImprovedGS">Learn more about our new ratings &amp;raquo;</a></span>
                </div>
                <div class="clear"><!--do not collapse--></div>

            </div>
        </div>
    </div>
</div>

<hr class="keyline2 man pan"/>

<div class="mtm smaller tal">
    <strong>Disclaimer:</strong>
    Map data on this page for school attendance zones is compiled from multiple sources and is subject to change. We've done our best to get broad coverage (up to 70% of the country's schools). In some cases data for your address may not be available. We always recommend double-checking with the district or school about enrollment and attendance rules and to determine legal eligibility.  Boundaries are not available for preschools.
    <div class="mtl">
        From more information about the School and District Boundary Map, see our <a href="/about/gsFaq.page">FAQs</a>.
    </div>
</div>

<div style="display:none;">
    <mod:tracking pageName="BoundariesMap" hier1="Search, DistrictBoundaries" boundariesSearchQuery="${param.address}" gradeLevelFilter="${(!empty param.level) ? param.level : 'e'}"   localPageName="${(!empty isLocal) ? 'BoundariesMap' : ''}" />
</div>
</div>
</div>
</gsml:body>
</html>
</jsp:root>