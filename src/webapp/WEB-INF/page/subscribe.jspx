<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
    xmlns="http://www.w3c.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
    xmlns:spring="http://www.springframework.org/tags"
    >
    <html>

        <jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

        <jsp:directive.page contentType="text/html"/>

        <head>
            <c:url value="/index.page" var="basepath"/>
            <base href="${basepath}"></base>
            <link rel="stylesheet" href="res/css/spp2.css"></link>
            <link rel="text/javascript" href="res/js/gen_validatorv2.js"></link>
        </head>


        <body>

            <table id="header" width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                    <td>
                        <img src="res/img/conv_top_sm.jpg" alt="Moving? Choosing a new School? GreatSchools Insider can help." width="380" height="70"/>
                    </td>
                    <td width="300" align="right" valign="middle">
                        <img src="res/img/GS_logo.gif" alt="GreatSchools.net logo" hspace="15" border="0"/>
                    </td>
                </tr>
            </table>

            <div class="wizard">
                <div class="wizard2">
                    <div class="wizard3">
                        <div class="wizard4">
                            <div class="pad">


                                <form action="subscribe.page" id="subscribe" method="POST">
                                    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" id="header">
                                        <tr>
                                            <td align="center" width="30%">
                                                <img src="res/img/pixel.gif" alt=""/>
                                            </td>
                                            <td align="center" width="*" nowrap="nowrap" id="active">Step 1:
                                                <br/>
                  Register and Pay
                                            </td>
                                            <td align="center">
                                                <img src="res/img/wizard_dottedarrow.gif" width="100" height="10" alt="arrow"/>
                                            </td>
                                            <td align="center" nowrap="nowrap">Step 2:
                                                <br/>
                  Get Started
                                            </td>
                                            <td align="center" width="30%">
                                                <img src="res/img/pixel.gif" alt=""/>
                                            </td>
                                        </tr>
                                    </table>
                                    <table width="100%" border="0" cellpadding="0" cellspacing="0" id="main">
                                        <tr valign="top">
                                            <td width="41%">
                                                <spring:bind path="subCmd">
                                                    <c:if test="${status.error}">
                                                        <div class="errors">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </div>
                                                    </c:if>
                                                </spring:bind>
                                        Receive unlimited access for one year to all
                                        subscription content for ${subCmd.subscriptionPrice}.
                                                <div style="align:center">
                                                    <img src="res/img/conv_pic2.gif" alt="photo of family" width="210" height="293" vspace="8" border="0"/>
                                                </div>
                                                <b>Please note:</b> You will have access to subscription content
                for all states in which it is available, currently including:
                ${subscriptionStates}. Information about
                private schools is very limited in all states.
                                            </td>
                                            <td width="59%">
                                                <b>Signing up is easy. First, enter your personal
                information</b>


                                                <div class="formrow">
                                                    <spring:bind path="subCmd.state">
                                                        <input name="${status.expression}"
                                                            type="hidden"
                                                            value="${status.value}"/>
                                                    </spring:bind>
                                                    <spring:bind path="subCmd.url">
                                                        <input name="${status.expression}"
                                                            type="hidden"
                                                            value="${status.value}"/>
                                                    </spring:bind>
                                                    <spring:bind path="subCmd.urlLabel">
                                                        <input name="${status.expression}"
                                                            type="hidden"
                                                            value="${status.value}"/>
                                                    </spring:bind>
                                                    <spring:bind path="subCmd.host">
                                                        <input name="${status.expression}"
                                                            type="hidden"
                                                            value="${status.value}"/>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">First Name</span>
                                                    <spring:bind path="subCmd.user.firstName">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Last Name</span>
                                                    <spring:bind path="subCmd.user.lastName">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Street Address</span>
                                                    <spring:bind path="subCmd.user.address.street">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">City</span>
                                                    <spring:bind path="subCmd.user.address.city">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">State</span>
                                                    <spring:bind path="subCmd.user.address.state">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Zip - 5 digits</span>
                                                    <spring:bind path="subCmd.user.address.zip">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Email address</span>
                                                    <spring:bind path="subCmd.user.email">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <b>Then, review and agree to the terms of the subscriber agreement</b>
                                                <div class="formrow">
                                                    <spring:bind path="subCmd.agree">
                                                        <span class="label">
                                                            <jsp:element name="input">
                                                                <jsp:attribute name="name">${status.expression}</jsp:attribute>
                                                                <jsp:attribute name="type">checkbox</jsp:attribute>
                                                                <jsp:attribute name="value">x</jsp:attribute>
                                                                <!-- <c:if test="${status.value == 'x'}">
                                                                     <jsp:attribute name="checked">checked</jsp:attribute>
                                                                 </c:if>-->
                                                            </jsp:element>
                                                        </span>
                                                        <span class="labelright">I agree to the terms of the
                                                            <a href="http://www.greatschools.net/content/insider/subscriber.html"
                                                                target="issues"
                                                                onclick="window.open('','issues','width=400,height=300,scrollbars=yes')">subscriber agreement</a>
                                                        </span>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                    <br/>
                                                    <br/>
                                                </div>
                                                <b>Finally, enter your payment information</b>
                                                <div class="formrow">
                                                    <span class="label">Credit Card Type</span>
                                                    <spring:bind path="subCmd.creditCardType">
                                                        <select name="${status.expression}">
                                                            <option selected="${status.value == 'visa' ? 'checked' : ''}" value="visa">Visa</option>
                                                            <option selected="${status.value == 'mc' ? 'checked' : ''}" value="mc">Mastercard</option>
                                                            <option selected="${status.value == 'amex' ? 'checked' : ''}" value="amex">American Express</option>
                                                        </select>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Credit Card Number</span>
                                                    <spring:bind path="subCmd.creditCardNumber">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            maxLength="16"
                                                            size="20"
                                                            value="${status.value}"/>
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>

                                                <div class="formrow">
                                                    <span class="label">Expiration (MM/YY)</span>
                                                    <spring:bind path="subCmd.expirationMonth">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="2" maxlength="2"
                                                            value="${status.value}"/>
                                                    </spring:bind>
                                    /
                                                    <spring:bind path="subCmd.expirationYear">
                                                        <input name="${status.expression}"
                                                            type="text"
                                                            size="4" maxlength="4"
                                                            value="${status.value}"/>
                                                    </spring:bind>

                                                    <spring:bind path="subCmd.expirationMonth">
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                    <spring:bind path="subCmd.expirationYear">
                                                        <c:if test="${status.error}">
                                                            <c:forEach items="${status.errorMessages}" var="error">
                                                                <div class="error">
                                                                    <c:out value="${error}" escapeXml="false"/>
                                                                </div>
                                                            </c:forEach>
                                                        </c:if>
                                                    </spring:bind>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>


                                    <table width="100%" border="0" cellpadding="0" cellspacing="0" id="footer">
                                        <tr>
                                            <td width="50%">
                                                <img src="res/img/pixel.gif" alt=""/>
                                            </td>
                                            <td width="50%" align="right">
                                                <input name="Submit" type="submit" id="Submit" value="Submit"
                                                    onClick="this.value='Processing...';this.enabled='false'"/>
                                            </td>
                                        </tr>
                                    </table>

                                </form>

                                <![CDATA[
        <script language="JavaScript" type="text/javascript">
//You should create the validator only after the definition of the HTML form
  var frmvalidator  = new Validator("myform");
  frmvalidator.addValidation("firstName","req","Please enter your first name");
  frmvalidator.addValidation("lastName","req","Please enter your last name");
  frmvalidator.addValidation("address","req","Please enter your address");
  frmvalidator.addValidation("city","req","Please enter your City");
  frmvalidator.addValidation("state","req","Please enter your state");
  frmvalidator.addValidation("zip","req","Please enter your ZIP code");
  frmvalidator.addValidation("email","req","Please enter your email address");
  frmvalidator.addValidation("email","email");
  frmvalidator.addValidation("creditCardType","dontselect=0");
  frmvalidator.addValidation("creditCardNumber","req","Please enter your card number");
  frmvalidator.addValidation("creditCardNumber","numeric");
  frmvalidator.addValidation("expirationMonth","req","Please enter the expiration month");
  frmvalidator.addValidation("expirationMonth","numeric");
  frmvalidator.addValidation("expirationYear","req","Please enter the expiration year");
  frmvalidator.addValidation("expirationYear","numeric");
        </script>
                                                                                    ]]>


                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <h5 class="ncopy">GreatSchools.net
            Elementary, middle and high school information for public, private and charter schools nationwide.</h5>
            <h6>&#169;1998-2005 GreatSchools Inc. All Rights Reserved.
                <a href="/">Home</a>
            |
                <a href="http://greatschools.net/cgi-bin/static/terms.html/ca">Terms of Use</a>
            </h6>
        </body>
    </html>
</jsp:root>