<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
          xmlns="http://www.w3c.org/1999/xhtml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:link="urn:www.greatschools.net/taglib/link"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:rss="urn:jsptagdir:/WEB-INF/tags/rss"
          xmlns:gsweb="gstaglib"
        >
<jsp:directive.page import="gs.data.content.INewsItemDao"/>
<jsp:directive.page import="gs.data.content.NewsItem"/>
<jsp:directive.page import="gs.web.ISessionContext"/>
<jsp:directive.page import="gs.web.SessionContextUtil"/>
<jsp:directive.page import="org.springframework.context.ApplicationContext"/>
<html lang="en">

<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

<jsp:directive.page contentType="text/html"/>

<head>
    <title>GreatSchools.net</title>
    <pageHelper:setPathway pathway="0"/>

    <jsp:scriptlet>
        ISessionContext sessionContext = SessionContextUtil.getSessionContext(request);
        ApplicationContext ac = sessionContext.getApplicationContext();

        INewsItemDao newsItemDao = (INewsItemDao) ac.getBean(INewsItemDao.BEAN_ID);
        NewsItem newsItem = newsItemDao.nextInRotation("NEWS");
        pageContext.setAttribute("newsItem", newsItem);
    </jsp:scriptlet>

</head>

<gsml:body adPageName="splash">
    <pageHelper:externalCss file="/res/css/splash.css"/>

    <table cellpadding="0" cellspacing="0" width="100%">
        <tr>
            <td id="houseAd">
                <p><span>&#160;</span>Track you child's learning grade-by-grade with our free newsletters that parents
                    love.</p>
                <gsml:a href="#"><span>&#160;</span>Sign up for newsletters</gsml:a>
            </td>
            <td width="8">
            </td>
            <td width="275" style="vertical-align: top; padding: 0;height: 100%">
                <div id="findAndCompare">
                    <div id="findYourSchool">
                        <h3><em>FIND and COMPARE</em> schools nationwide:</h3>
                        <gsml:form action="/search/search.page" method="GET">
                            <gsweb:stateSelector usingLongNames="false" state="${requestScope.context.stateOrDefault}"/>
                            <input type="text" value="" name="q" size="20"/>
                            <input type="hidden" value="school" name="type"/>
                            <input type="submit" value="Go"/>
                        </gsml:form>
                    </div>

                    <div id="findArticles">
                        <h3>Get <em>IDEAS and LEARN MORE</em> about:</h3>
                        <gsml:form action="/browseCities.page" method="GET">
                            <gsweb:stateSelector usingLongNames="true" state="${requestScope.context.stateOrDefault}"/>
                            <input type="submit" value="Go"/>
                        </gsml:form>
                    </div>
                </div>
            </td>
        </tr>
    </table>
    <div class="bigDottedDivider">&#160;</div>
    <table cellpadding="0" cellspacing="0" width="100%">
        <tr>
            <td style="vertical-align: top; height: 100%; width: 428px">
                <div id="week">
                    <h3><span>&#160;</span>This Week at GreatSchools</h3>
                    <ul>
                        <li class="speech"><a href="#">Tips to Plan a Great Summer</a>
                            Soccer camp, summer school or study abroad?
                        </li>
                        <li class="asterick"><a href="#">Our School Choosers Guide</a>
                            Soccer camp, summer school or study abroad?
                        </li>
                        <li class="checkmark"><a href="#">Vote Now</a>
                            Soccer camp, summer school or study abroad?
                        </li>
                    </ul>
                    <c:if test="${not empty newsItem}">
                        <div id="didYouKnow">
                            <h3>Did ya know?</h3>
                            ${newsItem.text}
                            <c:if test="${not empty newsItem.link}">
                                <gsml:a href="${newsItem.link}">Read More</gsml:a>
                            </c:if>
                        </div>
                    </c:if>
                </div>
            </td>
            <td width="8">
            </td>
            <td width="8">
            </td>
            <td style="vertical-align: top; height: 100%; width: 424px">
                <div id="billsBlog">
                    <h3><span>&#160;</span>BILL'S BLOG<h4>Founder &amp; CEO of GreatSchools</h4></h3>

                    <div class="rss"><rss:billsBlog/></div>
                </div>
            </td>
        </tr>
    </table>

</gsml:body>
</html>
</jsp:root>