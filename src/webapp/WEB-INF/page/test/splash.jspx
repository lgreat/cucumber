<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
          xmlns="http://www.w3c.org/1999/xhtml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:link="urn:www.greatschools.net/taglib/link"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:rss="urn:jsptagdir:/WEB-INF/tags/rss"
          xmlns:gsweb="gstaglib"
        >
<jsp:directive.page import="gs.data.content.INewsItemDao"/>
<jsp:directive.page import="gs.data.content.NewsItem"/>
<jsp:directive.page import="gs.web.ISessionFacade"/>
<jsp:directive.page import="gs.web.SessionContext"/>
<jsp:directive.page import="org.springframework.context.ApplicationContext"/>
<html lang="en">

<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

<jsp:directive.page contentType="text/html"/>

<head>
<title>GreatSchools.net</title>
<style type="text/css">
#contentGS {
    margin: 10px 10px 10px 10px;
    text-align: left; /*font-family: Skia,Gill Sans, arial, helvetica, sans-serif;*/
}

.bigDottedDivider {
    margin-top: 20px;
    border-bottom: 3px dotted #cccccc;
    margin-bottom: 20px;
}

#billsBlog {
/*width: 100%; /**/
    background-color: #f7f7f7;
    color: #555;
    font-weight: 100;
    padding: 0px 20px 20px 0px;
    height: 156px;
}


#billsBlog img {
    padding-right: 30px;
}

#billsBlog h3,
#didYouKnow h3 {
    padding-top: 30px;
    font-size: large;
    font-weight: 100;
    text-transform: capitalize;
}

#billsBlog h4 {
    padding-top: 0px;
    font-size: small;
}

#billsBlog div.rss {
    padding-top: 10px;
    font-size: small;
    font-weight: normal;
}

#didYouKnow {
    vertical-align: top;
}

#findYourSchool {
    margin-top: 40px;
    border-top: 1px solid #bbb;
    padding-top: 40px;
}

#findBestSchools h3,
    #findYourSchool h3 {
    font-size: large;
    color: #999;
    font-weight: 100;
}

#findBestSchools .huge,
    #findYourSchool  .huge {
    font-size: x-large;
    font-weight: bold;
    color: #009edb;
}

#navcontainer ul {
    padding-bottom: 5px;
    padding-top: 5px;
    padding-left: 0;
    margin-top: 0; /* cancels gap caused by top padding in Opera 7.54 */
    margin-left: 0;
    background-color: #e7f7fb;
    color: white;
    font-family: Arial, Helvetica, sans-serif;
    line-height: 18px; /* fixes Firefox 0.9.3 */
}

#navcontainer ul li {
    display: inline;
    padding-left: 0;
    padding-right: 0;
    padding-bottom: 5px; /* matches link padding except for left and right */
    padding-top: 5px;
}

#navcontainer ul li a {
    padding-left: 10px;
    padding-right: 10px;
    padding-bottom: 5px;
    padding-top: 5px;
    color: #009edb;
    text-decoration: none;
    border-right: 1px solid #fff;
}

#navcontainer ul li a:hover {
    background-color: #009edb;
    color: white;
}

#navcontainer #active {
    padding-bottom: 5px;
    padding-top: 5px;
    text-decoration: none;
}

#navcontainer #active a {
    padding-bottom: 5px;
    padding-top: 5px;
    text-decoration: none;
    color: white;
    background-color: #009edb;
}


</style>
<jsp:scriptlet>
    ISessionFacade sessionContext = SessionContext.getInstance(request);
    ApplicationContext ac = sessionContext.getApplicationContext();

    INewsItemDao newsItemDao = (INewsItemDao) ac.getBean(INewsItemDao.BEAN_ID);
    NewsItem newsItem = newsItemDao.nextInRotation("NEWS");
    pageContext.setAttribute("newsItem", newsItem);
</jsp:scriptlet>

</head>

<gsml:body adPageName="splash">

    <table cellpadding="0" cellspacing="20" width="100%">
        <tr>
            <td width="66%">
                <div id="cLeft">
                    <p>
                        As a user, I would like to see 2-4 large ads about GS features, and click on them to be directed
                        to the feature that they're advertising.
                    </p>
                    <ol>
                        <li>Newsletter ad that links to hover for Nth grader - Add email entry box to hover ad Nth
                            grader page</li>
                        <li>Back to school ad</li>
                        <li>Content ad, linking to Your Child K-3, your Child 4-5, Your Child 6-12 [new pages that will
                            be developed in the next release]</li>
                        <li>Parent Reviews</li>
                        <li>Troubleshooter</li>
                    </ol>
                </div>
            </td>
            <td width="33%">
                <div id="findBestSchools">
                    <h3>Find the<br/><span class="huge">BEST SCHOOLS</span> in your city</h3>
                    <gsml:form action="/browseCities.page" method="GET">
                        <gsweb:stateSelector usingLongNames="true" state="${requestScope.context.stateOrDefault}"/>
                        <input type="submit" value="Go"/>
                    </gsml:form>
                </div>


                <div id="findYourSchool">
                    <h3>See how<br/><span class="huge ">YOUR SCHOOL</span> stacks up</h3>
                    <gsml:form action="/search/search.page" method="GET">
                        <gsweb:stateSelector usingLongNames="false" state="${requestScope.context.stateOrDefault}"/>
                        <input type="text" value="" name="q" size="20"/>
                        <input type="hidden" value="school" name="type"/>
                        <input type="submit" value="Go"/>
                    </gsml:form>
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div class="bigDottedDivider">&#160;</div>
            </td>
        </tr>
        <tr>
            <td width="66%">

                <div id="billsBlog">
                    <img src="http://www.chicagotelevision.com/freckDD.jpg" style="float: left; clear: none;"/>

                    <h3>BILL'S BLOG</h3>
                    <h4>Founder &amp; CEO of GreatSchools</h4>

                    <div class="rss"><rss:billsBlog/></div>
                </div>


            </td>
            <td width="33%" style="vertical-align: top; height: 100%;">
                <c:if test="${not empty newsItem}">
                    <div id="didYouKnow">
                        <h3>did ya know</h3>
                        ${newsItem.text}
                    </div>
                </c:if>
            </td>
        </tr>
    </table>

</gsml:body>
</html>
</jsp:root>