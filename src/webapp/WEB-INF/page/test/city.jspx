<?xml version="1.0" encoding="UTF-8"?>
<jsp:root
        xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
        xmlns="http://www.w3c.org/1999/xhtml"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
        xmlns:spring="http://www.springframework.org/tags"
        xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
        xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
        xmlns:promo="urn:jsptagdir:/WEB-INF/tags/promo"
        xmlns:search="urn:jsptagdir:/WEB-INF/tags/search"
        xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
        xmlns:map="urn:jsptagdir:/WEB-INF/tags/map"
        xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
        >
<jsp:directive.page import="gs.data.state.State"/>
<jsp:directive.page import="gs.web.SessionContext"/>
<html lang="en">
<c:set var="stateAbbrev" value="${requestScope.context.stateOrDefault.abbreviation}"/>
<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

<jsp:directive.page contentType="text/html"/>

<head>
    <![CDATA[
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"></meta>
        <style type="text/css">
#mapContainer {
    margin: .3em;
    border: 1px solid #00c;
    background-color: #eee;
    padding: .0em;
}
#map, #mapContainer {
    width: 330px; height: 200px;
    width: 500px; height: 330px;
    width: 600px; height: 400px;
    width: 700px; height: 400px;
}
.statsModule {
    font-family: comic sans ms;
    font-family: Arial, Helvetica, sans-serif;
    font-size: .8em;
    margin: .3em;
}
.statsModule h1 {
    color: black;
    font-size: 1.2em;
    border: 0px solid #888;
    border-width: 0 0 1px 0;
    text-align: center;
    text-align: left;
}

.statsModule table {
            padding-top: 1em;
			width: 100%;
        }
.statsModule td {
            text-align: right;
            padding: .1em 1em;
            font-weight: bold;
        }
.statsModule th{
            text-align: left;
            font-weight: normal;
            font-size: 85%;
            text-transform: uppercase;
        }
.statsModule thead th{
            text-align: center;
            font-weight: normal;
        }
.statsModule .better { color: green; }
.statsModule .worse { color: red; }

li.town {
font-size: x-small;
}
li.city {
font-size: medium;
}
li.bigCity {
font-size: large;
}

        </style>
            ]]>
    <c:set var="city">${param["city"]}</c:set>
    <title>${city} Schools</title>
</head>

<gsml:body adPageName="city">
<table id="pagemargin" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top">
<!-- INCLUDE TOP content with logo, etc. -->
<table id="main" border="0" cellspacing="0" cellpadding="0" width="100%">
    <tr>
        <td class="col1" valign="top" rowspan="2">
            <gsml:box tableClass="shade3"
                      tableWidth="100%">
            <jsp:include page="/geo/nearbyCities.module?city=${city}" />
                <jsp:include page="/state/topCities.module"/>
            </gsml:box>
            <c:if test="${requestScope.context.user != null}">
                <h3>My School List</h3>
                <jsp:include page="/community/mySchoolList.module?member=${requestScope.context.user.id}&amp;limit=3"/>
            </c:if>
            <!--mod:stateSelectMedium state="${requestScope.context.stateOrDefault}" / -->
        </td>
        <td class="" valign="top" colspan="2">
            <div id="mapContainer">
                <div id="map" >&#160;</div>
            </div>
            <map:setup />
             <jsp:include page="/geo/cityMap.module?city=${city}&amp;state=${stateAbbrev}&amp;id=map&amp;fn=createMap"/>
            <pageHelper:addOnLoadHandler handler="createMap()" />
        </td>
    </tr>
        <tr>
        <td class="" valign="top">
            <gsml:box tableClass="shade3">
                <jsp:include page="/geo/citySchoolStats.module?city=${city}&amp;state=${stateAbbrev}"/>
            </gsml:box>
        </td>

        <td class="" valign="top">
            <gsml:box tableClass="shade3">
                <jsp:include page="/geo/cityStats.module?city=${city}&amp;state=${stateAbbrev}"/>
            </gsml:box>
        </td>
    </tr>
</table>
</td>
</tr>
</table>
</gsml:body>
</html>
</jsp:root>

