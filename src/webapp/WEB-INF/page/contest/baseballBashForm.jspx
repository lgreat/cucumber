<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"
          xmlns="http://www.w3c.org/1999/xhtml">
    <html lang="en">
    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
                doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

    <jsp:directive.page contentType="text/html"/>

    <head>
        <title>Baseball Bash Sweepstakes Form</title>
    </head>

    <body>

    <style type="text/css">
        #baseballBlast .invalidEmail, #baseballBlast .confirmation, #baseballBlast .error {
            display:none;
        }

        .fltlft {
            /* this class can be used to float an element left in your page */
            float: left;
        }

        .fltrt {
            /* this class can be used to float an element right in your page. */
            /* The floated element must precede the element it should be next to on the page. */
            float: right;
        }

        .clearfloat {
            /* this class should be placed on a div or break element and */
            /* should be the final element before the close of a container */
            /* that should fully contain a float */
            clear: both;
            height: 0;
            font-size: 1px;
            line-height: 0;
        }

        #baseballBlast{
            border:2px solid #5bc;
            width:300px
        }

        .textTreb13{
            font:13px "Trebuchet MS", Arial, Helvetica, sans-serif;
        }

        .textTreb13Bold{
            font:bold 13px "Trebuchet MS", Arial, Helvetica, sans-serif;
        }

        .textTreb10{
            font:10px "Trebuchet MS", Arial, Helvetica, sans-serif;
        }

        .tint666{
            color:#666;
        }

        .tint5bc{
            color:#5bc;
        }

        .tint39a{
             color:#39a;
        }


    </style>

    <script type="text/javascript">
        jQuery.noConflict();
        var $j = jQuery;

        $j(document).ready(function() {

            function changeFormDisplay(showInvalidEmail, showFormContainer, showConfirmation, showError) {
                var invalidEmail = $j('#baseballBlast .invalidEmail');
                var formContainer = $j('#baseballBlast .formContainer');
                var confirmation = $j('#baseballBlast .confirmation');
                var error = $j('#baseballBlast .error');

                if (showInvalidEmail) {
                    invalidEmail.show();
                } else {
                    invalidEmail.hide();
                }

                if (showFormContainer) {
                    formContainer.show();
                } else {
                    formContainer.hide();
                }

                if (showConfirmation) {
                    confirmation.show();
                } else {
                    confirmation.hide();
                }

                if (showError) {
                    error.show();
                } else {
                    error.hide();
                }
            };


            $j("#baseballBlast input[name='email']").focus(function() {
                if ($j(this).val() == 'Submit your email to enter') {
                    $j(this).val('');
                }
            });

            $j("#baseballBlast input[name='email']").blur(function() {
                if ($j(this).val() == '') {
                    $j(this).val('Submit your email to enter');
                }
            });

            $j('#baseballBlast form').submit(function() {
                var email = $j("#baseballBlast input[name='email']").val();
                var optInPartner = $j("#baseballBlast input[name='optInPartner']").is(':checked');
                var optInGS = $j("#baseballBlast input[name='optInGS']").is(':checked');

                $j.post('/contest/baseballBash.page', { 'email' : email, 'optInPartner' : optInPartner, 'optInGS': optInGS }, function(response) {
                    if (response == 'ok') {
                        changeFormDisplay(false, false, true, false);
                    } else if (response == 'invalidEmail') {
                        changeFormDisplay(true, true, false, false);
                    } else {
                        changeFormDisplay(false, false, false, true);
                    }
                });

                return false;
            });

        });
    </script>

    <div id="baseballBlast">

        <h1><a href="#" target="_blank">Baseball Blast Holiday Sweepstakes</a></h1>

        <p>Enter by 12/16/09 for a chance to win a copy* of
            Baseball Blast! in time for the holidays.</p>

        <div class="formContainer">

            <span class="invalidEmail">Please enter a valid email address.</span>

            <form>
                <input type="text" name="email" value="Submit your email to enter"/>
                <input type="submit" value="Go"/>

                <div>
                    <input type="checkbox" name="optInPartner"/>
                    Yes, send me special offers from Baseball Blast
                </div>
                <div>
                    <input type="checkbox" name="optInGS" checked="checked"/>
                    Yes, send me periodic updates from GreatSchools
                </div>
            </form>

        </div>

        <div class="confirmation">
            <div class="">Thanks for entering!</div>
            <a href="#" target="_blank">Learn more about Baseball Blast!</a>
        </div>

        <div class="error">
            <p>An error occurred. Please try again later.</p>
        </div>

        <div class="finePrint">
            *Win one of 10 copies. <a href="#" target="_blank">Full sweepstakes rules</a>.
        </div>

    </div>


    </body>

    </html>

</jsp:root>

