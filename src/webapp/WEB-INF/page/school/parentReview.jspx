<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:content="urn:jsptagdir:/WEB-INF/tags/content"
          xmlns:link="urn:www.greatschools.net/taglib/link"
          xmlns:gsweb="gstaglib"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
          xmlns:form="http://www.springframework.org/tags/form"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:spring="http://www.springframework.org/tags"
          xmlns:school="urn:jsptagdir:/WEB-INF/tags/school">

<html lang="en">

<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
<jsp:directive.page contentType="text/html; charset=UTF-8"/>
<head>
    <title>Add Parent Review</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <meta name="description"
          content="Add Parent Review"/>
    <pageHelper:externalCss file="/res/css/starRating/star_rating.css"/>
    <pageHelper:externalCss file="/res/css/school/parentReviews/parentR.css"/>
    <pageHelper:externalJavascript file="/res/js/parentReviewForm.js"/>
    <pageHelper:externalJavascript file="/res/js/addParentReview.js"/>
    <pageHelper:externalJavascript file="/res/js/prototype.js"/>
    <pageHelper:addOnLoadHandler handler="onLoadCities();"/>

    <![CDATA[
    <script type="text/javascript">
        <!--
        
         -->
    </script>
    ]]>

</head>

<gsml:body adPageName="ParentReviews">



<div id="topSelections">
    <h2>Help us help parents - review your child's school</h2>

    <div id="parentReviewImage"><img alt="Parent Review Image" src="/res/img/school/parentReviews/parent_reviews.jpg"/>
    </div>

    <div id="selections">
        <p>Tell us what you like about your child's school, what makes it special and where it needs improvement so that other families can make better,
            more informed choices.</p>


        <h3>Find your school</h3>
        <c:set var="mslOnclick" value="return storeHrefOpenHover(this.href);"/>
        <div id="stateDropdown">
            State:
                    <span id="state">
                    <gsweb:stateSelector state="${requestScope.context.stateOrDefault}" styleId="userState"
                                         onChange="stateChange(this);" usingLongNames="true" tabIndex="9"/>
                    </span>
        </div>
        <div id="cityDropdown">City:
                    <span id="city">
                        <select name="city" tabindex="10" onchange="">
                            <option selected="selected" value="">1. Choose city</option>
                            <c:forEach var="cityOption" items="${cities}">
                                <![CDATA[<option ]]>
                                <![CDATA[ value="${cityOption.name}">${cityOption.name}</option>]]>
                            </c:forEach>
                        </select>
                    </span></div>
        <div id="schoolsDropdown">School:
                    <span id="schools">
                    <select id="schoolSelect" name="sid" class="selectSchool">
                        <option value="">2. Choose school</option>
                    </select>
                    </span>
        </div>
        <div id="reviewThisSchoolButton"> <img alt="Parent Review Image" src="/res/img/school/parentReviews/review_button.gif"/></div>
    </div>
</div>

<form:form id="addParentReviewForm" commandName="parentReviewCommand" method="post">
<h3 style="display: none;" id="completeReview">Complete your review &amp; rating</h3>

<div style="display: none;" id="parentReviewForm">
    <!--<div id="parentReviewForm">-->
    <input type="hidden" name="schoolId" id="schoolId" value=""/>
    <input type="hidden" name="schoolState" id="schoolState" value=""/>
    <input type="hidden" name="isAddNewParentReview" value="true"/>
    <h4 id="schoolNameHeader">${swr.school.name}</h4>

    <div id="schoolInfo"> <![CDATA[<div id="gsSchoolRating"></div>
                    <div id="overallParentRating"></div>
                    <div id="parentRatingCount"></div>
                     <div id="schoolAddress">
                    <div id="schoolAddressLine1"></div>
                    <div id="schoolAddressLine2"></div>
                    <div id="schoolAddressLine3"></div>
                    <div id="schoolAddressLine4"></div></div>]]>
    </div>

    <div id="parentRating">

        <div id="inputRating">
            <div id="ratingTitle">My Overall rating</div>
            <div class="parentRatingStars">
                <input type="hidden" id="overallStarRating" value="${presetRating}" name="overallAsString"/>
                <input type="hidden" id="hdnSchoolName" name="hdnSchoolName" value="My Overall Rating"/>
                <ul class="star-rating large-star">
                    <li id="currentStarDisplay" class="current-rating" style="width:0;">Currently unrated.</li>
                    <li><a href="#" id="validateStar1"
                           title="1 star out of 5"
                           class="one-star"
                           onclick="this.hideFocus=true;setStars(1);return false;"
                           onmouseover="showStars(1);"
                           onmouseout="resetStars();"
                            >1</a></li>
                    <li><a href="#" id="validateStar2" title="2 stars out of 5" class="two-stars"
                           onclick="this.hideFocus=true;setStars(2);return false;"
                           onmouseover="showStars(2);"
                           onmouseout="resetStars();"
                            >2</a></li>
                    <li><a href="#" id="validateStar3" title="3 stars out of 5" class="three-stars"
                           onclick="this.hideFocus=true;setStars(3);return false;"
                           onmouseover="showStars(3);"
                           onmouseout="resetStars();"
                            >3</a></li>
                    <li><a href="#" id="validateStar4" title="4 stars out of 5" class="four-stars"
                           onclick="this.hideFocus=true;setStars(4);return false;"
                           onmouseover="showStars(4);"
                           onmouseout="resetStars();"
                            >4</a></li>
                    <li><a href="#" id="validateStar5" title="5 stars out of 5" class="five-stars"
                           onclick="this.hideFocus=true;setStars(5);return false;"
                           onmouseover="showStars(5);"
                           onmouseout="resetStars();"
                            >5</a></li>
                </ul>
            </div>
        </div>

        <div id="reviewRatingError" style="display:none" class="reviewError">Please enter a review or rating.</div>
        <div id="emailError" style="display:none" class="reviewError">Please enter a valid email address.</div>
        <div id="termsError" style="display:none" class="reviewError">Please accept our terms of use.</div>
        <div class="marginTextArea" id="reviewAndGuidlines"><span>My Review</span><span id="guidelines"><a href="http://www.greatschools.net/cgi-bin/static/guidelines.html/ca/Guidlines">Guidelines</a></span>

        </div>
        <div id="reviewCommnents"><textarea id="reviewText"
                                            name="comments"
                                            onkeyup="countWords(this)"
                                            onkeydown="countWords(this)"
                                            onfocus="if(this.value=='Enter your review here'){this.value='';}"
                                            rows="10" cols="50" wrap="on">Enter your review here</textarea></div>
        <div class="marginEmailField"><input type="text" name="email" id="reviewEmail"
                                             onfocus="if(this.value=='Enter your email address'){this.value='';}"
                                             value="Enter your email address" class="emailAddress"/></div>
        <div class="marginEmailField" id="termsAndPrivacy"><input id="permission" name="givePermission" type="checkbox"
                                             checked="checked"/>
            I'm a <select name="posterAsString">
                <option value="parent">parent</option>
                <option value="student">student</option>
                <option value="teacher">teacher</option>
                <option value="other">other</option>
            </select> and I agree to the GreatSchools <gsml:a href="/cgi-bin/static/privacy.inc/${state}" title="Privacy Policy"
                                        target="_blank">Privacy Policy </gsml:a> &amp; <gsml:a
                    href="/cgi-bin/static/terms.html/${state}/#permission" title="Terms of Use"
                    target="_blank">Terms of Use</gsml:a>></div>
        <div class="marginEmailField" id="weeklyEmails"><input id="wantMssNL" type="checkbox" name="wantMssNL" value="yes"
                                             checked="checked"/> Send me weekly emails from GreatSchools,including updates about<br/> this school.
        </div>

    </div>
    <div id="categoryRatings">

        <ul id="nonPreSchoolStars">
            <li>
                <div class="catRatingLabel">Principal Leadership</div>
                <div class="catRating"><gsml:starRating id="principalAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Teacher Quality</div>
                <div class="catRating"><gsml:starRating id="teacherAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Extra curricular Activites</div>
                <div class="catRating"><gsml:starRating id="activitiesAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Parent Involvement</div>
                <div class="catRating"><gsml:starRating id="parentAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Safety and Discipline</div>
                <div class="catRating"><gsml:starRating id="safetyAsString" additionalClass="med-star"/>
                </div>
            </li>
        </ul>


        <ul id="preSchoolStars">
            <li>
                <div class="catRatingLabel">Program &amp; Curriculum</div>
                <div class="catRating"><gsml:starRating id="PProgramAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Facilities &amp; Equipment</div>
                <div class="catRating"><gsml:starRating id="PFacilitiesAsString"
                                                        additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Health &amp; Safety</div>
                <div class="catRating"><gsml:starRating id="PSafetyAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Teacher Quality</div>
                <div class="catRating"><gsml:starRating id="PTeachersAsString" additionalClass="med-star"/>
                </div>
            </li>
            <li>
                <div class="catRatingLabel">Parent Involvement</div>
                <div class="catRating"><gsml:starRating id="PParentsAsString" additionalClass="med-star"/>
                </div>
            </li>
        </ul>


        <div id="learnMoreLinks"><link:parentRatingsExplained preschool="true" target="_blank"
                                                              onclick="window.open(this.href, 'definitions', 'width=544,height=480,scrollbars=yes'); return false;">Learn More about these categories &gt;</link:parentRatingsExplained>
        </div>
        <![CDATA[<div id="principalsLink" class="marginEmailField"></div>]]>
    </div>

    <div id="submitReview"><gsml:inputImage src="/res/img/button/btn_submit.gif" alt="Submit Review"
                                            id="submit" name="_submit" onclick="return validateReview();"/>
    </div>


</div>
</form:form>

</gsml:body>
</html>
</jsp:root>

