<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml" version="2.0"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:mobile="urn:jsptagdir:/WEB-INF/tags/mobile"
          xmlns:util="urn:jsptagdir:/WEB-INF/tags/util"
        >

    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"

                doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
    <jsp:directive.page contentType="text/html"/>

    <html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>

    </head>
    <gsml:body adPageName="overview" pageLayout="overview">
        <!--${vals}-->
        <!--<c:forEach var="val" items="${vals}">-->
                    <!--DataTypeId:  ${val.data_type_id}<br/>-->
            <!--DataSetId: ${val.id}<br/>-->
            <!--grade :${val.grade}<br/>-->
            <!--level_code :${val.level_code}<br/>-->
            <!--subject : ${val.subject_id}<br/>-->
            <!--year : ${val.year}<br/>-->
            <!--val:${val.value_float}<br/>-->
            <!--text: ${val.value_text}<br/>-->
            <!--<br/>-->
            <!--<br/>-->
            <!--<br/>-->
                <!--</c:forEach>-->

         <c:forEach var="testToGrades" items="${rval}">
                    <div class="mod standard_6-1 mtn ptn">
                        <div class="inner">
                            <div class="hd plm">
                                <div class="titlediv">
                                    ${testToGrades.testLabel}
                                </div>
                            </div>
                            <div class="bd">
                                <c:if test="${not empty testToGrades.scale}">
                                    <div class="contain_2-1">
                                        <strong>Scale:</strong> ${testToGrades.scale}
                                    </div>
                                </c:if>
                                <c:forEach var="gradeToSubjects" items="${testToGrades.grades}" varStatus="index">

                                    <div class="pam">
                                        <h4>${gradeToSubjects.gradeLabel}</h4>

                                        <c:forEach var="subjectToYears" items="${gradeToSubjects.subjects}">
                                            <h5 class="pbm">${subjectToYears.subjectLabel}</h5>

                                            <c:forEach var="yearToTestScore" items="${subjectToYears.years}">

                                                <mobile:barGraph testScoreValue="${yearToTestScore.testScoreStr}"
                                                                 testScoreLabel="${yearToTestScore.testScoreLabel}"
                                                                 testScoreYear="${yearToTestScore.year}"/>
                                            </c:forEach>

                                            <div class="ptm"><!-- not empty --></div>
                                        </c:forEach>
                                    </div>
                                    <hr class="keyline1"/>
                                </c:forEach>

                            </div>
                        </div>
                    </div>
                </c:forEach>



    </gsml:body>
    </html>
</jsp:root>