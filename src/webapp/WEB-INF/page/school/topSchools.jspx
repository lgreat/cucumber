<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:link="urn:www.greatschools.org/taglib/link"
          xmlns:gsweb="gstaglib"
          xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
          xmlns:content="urn:jsptagdir:/WEB-INF/tags/content"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
        >
<html lang="en">
<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
<jsp:directive.page contentType="text/html"/>
<pageHelper:setPathway pathway="SEASONAL"/>
<head>
    <c:choose>
        <c:when test="${national}">
            <title>Top High Schools in America - 2009 | GreatSchools</title>
            <meta content="A state-by-state list of top high schools in America, based on the GreatSchools data, which showcases exemplary schools across three categories."
                  name="description"/>
            <meta content="top schools, top high schools, top high schools in America, best high schools, great high schools"
                  name="keywords"/>
        </c:when>
        <c:otherwise>
            <title>Top High Schools in ${stateName} - 2009 | GreatSchools</title>
            <meta content="Top high schools in ${stateName} list, showcases exemplary schools in categories such as Top Performing and Most Improved."
                  name="description"/>
            <meta content="top high schools in ${stateName}, top ${stateName} schools, top ${stateAbbreviation} schools, best high schools in ${stateName}, best ${stateName} high schools, best ${stateAbbreviation} schools"
                  name="keywords"/>
        </c:otherwise>
    </c:choose>
    <pageHelper:externalCss file="/res/css/content/landingPageShared.css"/>
    <pageHelper:externalCss file="/res/css/school/topSchools.css"/>
    <pageHelper:externalJavascript file="/res/js/compareModule.js"/>
    <![CDATA[
        <!--[if IE]>
        <link rel="stylesheet" href="/res/css/content/landingPageShared_ie_fixes.css" type="text/css" media="screen" charset="utf-8" />
        <![endif]-->
        ]]>
    <script type="text/javascript">
        function changeTopSchoolsState(form) {
            var val = document.getElementById('topSchoolsStateChanger').value;
            document.location = "/top-high-schools/" + val.toLowerCase().replace(' ', '-') + "/";
            return false;
        }
    </script>
</head>
<c:set var="pageName" value="Top High Schools"/>
<ad:setSlotPrefix slotPrefix="Top_Schools"/>
<gsml:body adPageName="top-high-schools" pageLayout="nocol" startAdHierarchyAtPage="true">

<div id="pageWrapper" class="cleared">

<div id="contentLeft">
    <content:librarySidebar/>
    <!--<ad:Promo_170x92/>-->
    <!--ad:AboveFold_Left_160x600/-->
</div>

<div id="main">
<div id="top-schools-header" class="box title-box">
    <div class="inner cleared">
        <div id="top-schools-header-content">
            <c:choose>
                <c:when test="${national}">
                    <h1>Top High Schools in America - 2009</h1>
                </c:when>
                <c:otherwise>
                    <h1>Top High Schools in ${stateName} - 2009</h1>
                </c:otherwise>
            </c:choose>

            <div id="introPromo">
                <div class="contentTop">
                    High schools in each state that represent the qualities of a great school
                </div>
                <div class="businessWeek">
                    As featured in <a target="_blank" href="http://www.businessweek.com"><img
                        src="/res/img/school/topSchools/businessweek.gif" alt="Business Week"></img></a>
                    <link:article styleClass="whatMakesATopSchool"
                                      articleId="3703">What makes a top school? &amp;gt;</link:article>
                </div>
                <div class="contentBottom">
                    <span class="viewTopSchools">View top schools in:</span>

                    <form id="switchStateForm" action="#" method="get"
                          onsubmit="return changeTopSchoolsState(this)">
                        <select id="topSchoolsStateChanger" name="state" class="stateSelect">
                            <c:forEach var="state" items="${allStates}">
                                <c:choose>
                                    <c:when test="${stateName eq state.longName}">
                                        <option value="${state.longName}"
                                                selected="selected">${state.longName}</option>
                                    </c:when>
                                    <c:otherwise>
                                        <option value="${state.longName}">${state.longName}</option>
                                    </c:otherwise>
                                </c:choose>
                            </c:forEach>
                        </select>
                        <input id="topSchoolsStateChangerGo" class="go-button" type="image"
                               src="/res/img/button/go.gif"
                               alt="Go"/>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<c:set var="overall">
    A Top-Performing School means that the school's average test scores in reading, math and science are among the highest in the state.
</c:set>
<c:set var="lowincome">
    A Top-Performing Low Income School means that the school's average test scores in reading, math and science are among the highest when compared with other schools with a large number of economically disadvantaged students.
</c:set>
<c:set var="improved">
    A Most Improved School shows the greatest improvement in test scores when comparing scores from the most recent year available to the year before.
</c:set>

<div id="content">
    <c:choose>
        <c:when test="${national}">
            <div id="top-schools" class="box main-box about-the-awards">
                <div class="inner cleared">
                    <h2>About the awards</h2>
                    <ul>
                        <li>
                            <link:article styleClass="badge badge_overall" anchor="overall" target="_blank"
                                          articleId="3703"></link:article>
                            <link:article target="_blank" anchor="overall" styleClass="school"
                                          articleId="3703">Top Performing</link:article><br/>
                            <span class="description">${overall}</span>
                        </li>
                        <li>
                            <link:article styleClass="badge badge_lowincome" anchor="lowincome" target="_blank"
                                          articleId="3703"></link:article>
                            <link:article target="_blank" anchor="lowincome" styleClass="school"
                                          articleId="3703">Closing the Achievement Gap</link:article><br/>
                            <span class="description">${lowincome}</span>
                        </li>
                        <li class="lastSchool">
                            <link:article styleClass="badge badge_improved" anchor="improved" target="_blank"
                                          articleId="3703"></link:article>
                            <link:article target="_blank" anchor="improved" styleClass="school"
                                          articleId="3703">Most Improved</link:article><br/>
                            <span class="description">${improved}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </c:when>
        <c:otherwise>
            <div id="top-schools" class="box main-box">
                <div class="inner cleared">
                    <h2>Top high schools in ${stateName}</h2>
                    <ul>
                        <c:forEach var="school" items="${topSchools}">
                            <c:if test="${fn:toLowerCase(school.topSchoolCategory) ne 'publicparents' and
                                          fn:toLowerCase(school.topSchoolCategory) ne 'privateparents'}">                                   
                                <li class="${(school.last)?'lastSchool':fn:toLowerCase(school.topSchoolCategory)}">
                                    <link:article styleClass="badge badge_${fn:toLowerCase(school.topSchoolCategory)}"
                                                  anchor="${fn:toLowerCase(school.topSchoolCategory)}" target="_blank"
                                                  articleId="3703">What does this mean?</link:article>
                                    <link:schoolProfileOverview school="${school}"
                                                                styleClass="school">${school.name}</link:schoolProfileOverview><c:out
                                        value=" "/>
                                    <span class="location">${school.city}, ${school.databaseState}</span><br/>
                                    <span class="description">
                                    ${school.reviewText}
                                        <c:choose>
                                            <c:when test="${fn:length(school.reviewText) > 0}">
                                                <c:choose>
                                                    <c:when test="${school.reviewSubmitterParent}">
                                                        <link:schoolProfileParentReview school="${school}"
                                                                                        styleClass="more">More&amp;#160;&amp;gt;</link:schoolProfileParentReview>
                                                    </c:when>
                                                    <c:otherwise>
                                                        <link:schoolProfilePrincipalView school="${school}"
                                                                                         styleClass="more">More&amp;#160;&amp;gt;</link:schoolProfilePrincipalView>
                                                    </c:otherwise>
                                                </c:choose>
                                            <span class="submitted-by">
                                                <br/>Submitted by ${(school.reviewSubmitterParent)?'a parent':'the school'}
                                            </span>
                                            </c:when>
                                            <c:otherwise>
                                                ${pageScope[fn:toLowerCase(school.topSchoolCategory)]}
                                            </c:otherwise>
                                        </c:choose>
                                    </span>
                                </li>
                            </c:if>
                        </c:forEach>
                    </ul>
                    <link:article styleClass="whatMakesATopSchool"
                                  articleId="3703">What makes a top school? &amp;gt;</link:article>
                </div>
            </div>
        </c:otherwise>
    </c:choose>

    <div id="what-makes-a-school-great" class="box main-box">
        <div class="inner cleared">
            <h2>What makes a school great</h2>
            <ul>
                <c:forEach var="contentLink" items="${whatMakesASchoolGreat}">
                    <li><a class="content-link ${contentLink.styleClass}" target="${contentLink.target}"
                           href="${contentLink.link}">${contentLink.title}</a>
                        ${contentLink.text}</li>
                </c:forEach>
            </ul>
        </div>
    </div>
</div>

<div id="supplement">

    <ad:AboveFold_300x250/>
    <!--
    <div id="stand-up-for-your-school" class="box side-box">
        <div class="inner">
            <h2>Stand up for your school</h2>

            <div id="recruiting">
                We're recruiting parents to represent their schools to interested families&amp;mdash;
                sign up now to be a part of the launch!
            </div>
            <form id="stand-up-form" method="get" action="/community/registration.page">
                <input id="stand-up-email" name="email" type="text" value="Enter your email address"
                       onfocus="if (this.value.indexOf('Enter ') > -1) this.value=''"/>
                <input id="stand-up-go" class="go-button" type="image" src="/res/img/button/go.gif" alt="Go"/>
            </form>
        </div>
    </div>
    -->

    <div id="finding-the-right-school" class="box side-box">
        <div class="inner">
            <div id="identify-your-priorities">
                <h2>Finding the right school</h2>
                <ul>
                    <li>Define your ideal school</li>
                    <li>Start your search</li>
                    <li>Prep for a school visit</li>
                    <li>Apply and enroll</li>
                </ul>
                <link:schoolChoiceCenter>Visit our School Choice Center &gt;</link:schoolChoiceCenter>
            </div>
            <div id="find-and-compare-schools">
                <h2>Find and compare schools</h2>
                <gsweb:form id="find-and-compare-search" action="/search/search.page" method="get">
                    <input name="q" type="text" value="School, city or district"
                           onfocus="if (this.value.indexOf('or district') > -1) this.value=''"/>
                    <gsweb:stateSelector styleId="find-and-compare-state-selector" state="${stateAbbreviation}"
                                         usingLongNames="false" name="state"/>
                    <gsml:inputImage styleClass="go-button" src="/res/img/button/go.gif" alt="Go"
                                     name="submit"/>
                </gsweb:form>

                <h2>Moving with kids</h2>
                <ul>
                    <li><link:article articleId="455">Prepare for a smooth transition</link:article></li>
                    <li><link:article articleId="60">Ease into the first day</link:article></li>
                </ul>
                <h3>Compare cities near:</h3>
                <gsweb:form id="find-and-compare-city-form" action="/cities.page" method="get">
                    <div id="find-and-compare-city">
                        <select id="horizontalCompareCitySelect" name="city" class="compareCitySelect">
                            <c:forEach var="cityOption" items="${compareCities}">
                                <gsml:selectOption selected="${requestScope.context.cityId eq cityOption.id}"
                                                   value="${cityOption.name}">${cityOption.name}</gsml:selectOption>
                            </c:forEach>
                        </select>
                    </div>
                    <gsweb:stateSelector styleId="find-and-compare-city-state-selector" state="${stateAbbreviation}"
                                         name="state"
                                         onChange="stateChange(this, 'find-and-compare-city', 'find-and-compare-city-select');"/>
                    <gsml:inputImage styleClass="go-button" src="/res/img/button/go.gif" alt="Go"
                                     name="submit" onclick="return verifyCity('verticalCompareCitySelect');"/>
                </gsweb:form>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<div style="display: none;">
    <c:choose>
        <c:when test="${national}">
            <mod:tracking pageName="Top High Schools Landing Page"
                          hier1="Home,Lists,Top High Schools,National"/>
        </c:when>
        <c:otherwise>
            <mod:tracking pageName="Top High Schools State"
                          hier1="Home,Lists,Top High Schools,State,${stateName}"/>
        </c:otherwise>
    </c:choose>
</div>
</gsml:body>
</html>
</jsp:root>
