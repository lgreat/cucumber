<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
          xmlns:spring="http://www.springframework.org/tags"
          xmlns:promo="urn:jsptagdir:/WEB-INF/tags/promo"
          xmlns:search="urn:jsptagdir:/WEB-INF/tags/search"
          xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:content="urn:jsptagdir:/WEB-INF/tags/content"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:link="urn:www.greatschools.org/taglib/link"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:gsweb="gstaglib"
          xmlns:map="urn:jsptagdir:/WEB-INF/tags/map"
        >

    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
                doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

    <jsp:directive.page contentType="text/html"/>

    <head>
        <title>REPLACE ME</title>
    </head>

    <pageHelper:externalJavascript file="/res/js/search/schoolSearchResultsTable.js"/>

    <div id="mainGS" class="col">
        <div class="spacer_30"><!-- do not collapse --></div>
        <div id="topicbarGS" class="col">

            <div id="js-gradeLevels" class="mod">
                <div class="navmod_hd">
                    <h5 class="fltlft">GRADE LEVEL</h5><h5 class="fltrt"><span class="symbolsize-25">&amp;#9662;</span></h5>

                    <div class="clearfloat"><!-- do not collapse --></div>
                </div>
                <div class="navmod_bd">
                    <div>
                        <input type="checkbox" checked="checked" name="gradeLevels" id="p"/>
                        <label for="p">Preschool</label>
                    </div>
                    <div>
                        <input type="checkbox" checked="checked" name="gradeLevels" id="e"/>
                        <label for="e">Elementary School</label>
                    </div>
                    <div>
                        <input type="checkbox" checked="checked" name="gradeLevels" id="m"/>
                        <label for="m">Middle School</label>
                    </div>
                    <div>
                        <input type="checkbox" checked="checked" name="gradeLevels" id="h"/>
                        <label for="h">High School</label>
                    </div>
                </div>
            </div>
            <div id="js-schoolTypes" class="mod">
                <div class="navmod_hd">
                    <h5 class="fltlft">SCHOOL TYPE</h5><h5 class="fltrt"><span class="symbolsize-25">&amp;#9662;</span></h5>

                    <div class="clearfloat"><!-- do not collapse --></div>
                </div>
                <div class="navmod_bd">
                    <div>
                        <input type="checkbox" checked="checked" name="schoolTypes" id="public"/>
                        <label for="public">Public</label>
                    </div>
                    <div>
                        <input type="checkbox" checked="checked" name="schoolTypes" id="charter"/>
                        <label for="charter">Public Charter</label>
                    </div>
                    <div>
                        <input type="checkbox" checked="checked" name="schoolTypes" id="private"/>
                        <label for="private">Private</label>
                    </div>
                </div>
            </div>
        </div>


        <div id="topicMainGS" class="col">

            <table id="school-search-results-table-header">
                <colgroup>
                    <col align="center" width="15%"/>
                    <col align="left" width="39%"/>
                    <col align="right" width="27%"/>
                    <col align="center" width="17%"/>
                    <col align="center" width="2%"/>
                </colgroup>
                <thead>
                <tr class="smallText2bold">
                    <th align="center"><!-- do not collapse --></th>
                    <th align="left" valign="bottom">SCHOOL NAME<span class="symbolsize-16">&amp;#9663;</span></th>
                    <th align="center">GREATSCHOOLS<span class="symbolsize-16">&amp;#9663;</span> RATING</th>
                    <th align="center">COMMUNITY<span class="symbolsize-16">&amp;#9663;</span> RATING</th>
                    <th><!-- do not collapse --></th>
                </tr>
                </thead>
            </table>
            <table id="school-search-results-table-body">
                <colgroup>
                    <col align="center" width="15%" valign="top"/>
                    <col align="left" width="50%"/>
                    <col align="left" width="14%" valign="top"/>
                    <col align="center" width="21%" valign="top"/>
                </colgroup>
                <tbody>
                <!-- we at least need one hidden search result that javascript can clone if we need to display more results later -->
                <search:schoolSearchResultTemplate school="${schoolSearchResults[0]}"/>

                <c:set var="count" value="0"/>

                <c:forEach items="${schoolSearchResults}" var="s" begin="0" end="${fn:length(schoolSearchResults) - 1}">
                    <search:schoolSearchResult school="${s}"/>
                </c:forEach>

                <c:choose>
                    <c:when test="${totalPages gt 1}">
                        <c:set var="nearbySchoolClass" value="nearby-school hidden"/>
                    </c:when>
                    <c:otherwise>
                        <c:set var="nearbySchoolClass" value="nearby-school"/>
                    </c:otherwise>
                </c:choose>
                <c:if test="${blankRows gt 0}">
                    <c:forEach begin="0" end="${blankRows - 1}">
                        <tr class="${nearbySchoolClass}">
                            <td class="brdbtm_dotted-fff"><!-- do not collapse --></td>
                            <td class="brdbtm_dotted-fff"><!-- do not collapse --></td>
                            <td class="brdbtm_dotted-fff"><!-- do not collapse --></td>
                            <td class="brdbtm_dotted-fff"><!-- do not collapse --></td>
                        </tr>
                    </c:forEach>
                </c:if>
                </tbody>
            </table>

        </div>
    </div>

    <div id="sidebarGS" class="col">
        <ad:AboveFold_300x600/>

        <div class="mod">
            <div class="mod_hd">
                <h3>Map of Results</h3>
            </div>
            <div class="mod_bd"><!-- do not collapse --></div>
        </div>
        <c:set var="pageSize" value="${4}"/>

        <div id="nearbySchoolsMap" class="border-c6">
            &#160;
            <noscript>JavaScript is required in order to view a map of the city and its
                schools.
            </noscript>
        </div>

        <map:mapSchoolsWithoutBubbles
                id="nearbySchoolsMap"
                tooltips="true"
                schools="${mapSchools}"
                school="${school}"
                start="${param.start}"
                count="${pageSize}"
                gsRating="${gs_rating}"
                ratings="${ratings}"
                />
        <!-- end map -->

        <promo:searchRealtorDotCom omniturePageName="${omniturePageName}" pageAdRatioKey="RDC_PCT_SEARCH"
                                   showAdPct="0"/>
    </div>

</jsp:root>