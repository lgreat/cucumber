<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:spring="http://www.springframework.org/tags"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:gsweb="gstaglib"
          xmlns="http://www.w3.org/1999/xhtml" version="2.0">
    <jsp:directive.page contentType="text/html"/><html>
  <head>
      <pageHelper:externalCss file="/res/css/community/registration/myaccount.css"/>
      <title>Reset Your Password</title>
  </head>
  <body>

  <div id="myaccount_resetpassword">
      <h1><span>My Account</span></h1>
      <div id="outline"><!-- creates darker blue outer outline -->
          <div id="content">
              <h2><span>Reset Your Password</span></h2>

              <p>Please enter a new password for your account in the form below.</p>

              <gsweb:form action="/community/resetPassword.page" method="post">

                  <c:if test="${not (param.id gt '') }">
                      <label for="oldPassword">Current password</label>
                      <spring:bind path="passwordCmd.oldPassword">
                        <input id="oldPassword" type="password" name="${status.expression}" value="${status.value}"/>
                      </spring:bind>
                      <gsml:errorMessage command="passwordCmd" field="oldPassword" useImage="true" styleClass="warning"/>
                  </c:if>

                  <label for="newPassword">New password</label>
                  <spring:bind path="passwordCmd.newPassword">
                      <input id="newPassword" type="password" name="${status.expression}" value="${status.value}"/>
                  </spring:bind>
                  <gsml:errorMessage command="passwordCmd" field="newPassword" useImage="true" styleClass="warning"/>

                  <label for="confirmPassword">Re-type password</label>
                  <spring:bind path="passwordCmd.newPasswordConfirm">
                      <input id="confirmPassword" type="password" name="${status.expression}"
                             value="${userCmd.confirmPassword}"/>
                  </spring:bind>

                  <input id="id" type="hidden" name="id" value="${param.id}"/>

                  <gsml:inputImage src="/res/img/community/registration/submit_resetpassword.gif"
                                   alt="Reset password" styleClass="resetpassword" name="submit"/>

                  <gsml:inputImage src="/res/img/community/registration/submit_cancel.gif"
                                   alt="Cancel" styleClass="cancel" name="cancel"/>
              </gsweb:form>
          </div>
          <!-- end: content -->
      </div>
      <!-- end: outline -->
  </div>
  <!-- end: main -->
  <mod:tracking pageName="Reset Password"
                pageType="account"
                hier1="Account,Reset Password"/>
  </body>
</html>
</jsp:root>