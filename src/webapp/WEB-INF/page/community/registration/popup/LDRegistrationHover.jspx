<?xml version="1.0" encoding="UTF-8"?>
<jsp:root
        xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:spring="http://www.springframework.org/tags"
        xmlns:form="http://www.springframework.org/tags/form"
        xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
        xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
        xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
        xmlns:gsweb="gstaglib"
        xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
        xmlns:community="urn:jsptagdir:/WEB-INF/tags/community"
        xmlns:link="urn:www.greatschools.net/taglib/link"
        >
<html lang="en">
<jsp:output doctype-root-element="html"
            doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
            doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
<jsp:directive.page contentType="text/html"/>

<head>
    <![CDATA[
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    ]]>
    <title>Join - GreatSchools</title>
    <pageHelper:externalJavascript file="/res/js/prototype.js"/>
    <pageHelper:externalCss file="/res/css/community/registration/popup/joinHover.css"/>
    <pageHelper:externalJavascript file="/res/js/community/registration/registration.js"/>
</head>

<gsml:body adPageName="community/LDRegistrationHover">
    <community:joinHoverHeader>
        <li class="thin">
            <span class="bulletText"><span class="strongHeader">Get the resources you need</span> to support your child
                with a learning disability or an attention problem.</span>
        </li>
        <li>
            <span class="bulletText"><span class="strongHeader">Find the right school</span> for your child and track
                its stats - from test scores to teacher quality.</span>
        </li>
        <li>
            <span class="bulletText"><span class="strongHeader">Share stories</span> about your child's success in and
                out of the classroom.</span>
        </li>
    </community:joinHoverHeader>


    <spring:hasBindErrors name="userCmd">
        <pageHelper:addOnLoadHandler handler="scrollToError();"/>
    </spring:hasBindErrors>

    <!-- begin registration form -->
    <gsweb:form action="/community/registration/popup/LDRegistrationHover.page"
                method="post" styleClass="registration" id="reg1Form">
        <form:hidden path="userCmd.redirectUrl"/>

        <ul>
            <community:joinHoverUserFields userCmd="${userCmd}"/>

            <c:set var="loopTimes" value="0"/>
            <li id="whereLiveLine">
                <label>State, city</label>
                <spring:bind path="userCmd.state">
                    <gsweb:stateSelector state="${requestScope.context.stateOrDefault}" styleId="userState"
                                         onChange="parentStateChange(this,${loopTimes});" tabIndex="7"
                            usingLongNames="true"/>
                </spring:bind>
                <gsml:feedbackMessage command="userCmd" field="state" styleClass="ajaxMessage ajaxError"/>

                <span id="city">
                    <select id="citySelect" name="city" tabindex="8" onchange="gradeChange(${loopTimes},true);">
                        <c:if test="${userCmd.cityList ne null and (userCmd.city eq null or userCmd.city eq '')}">
                            <option selected="selected" value="">Choose city</option>
                        </c:if>
                        <c:forEach var="cityOption" items="${userCmd.cityList}">
                            <![CDATA[<option ]]>
                            <c:if test="${userCmd.city eq cityOption.name}">
                                selected="selected"
                            </c:if>
                            <![CDATA[ value="${cityOption.name}">${cityOption.name}</option>]]>
                        </c:forEach>
                    </select>
                </span>
                <gsml:feedbackMessage command="userCmd" field="city" styleClass="ajaxMessage ajaxError"/>
            </li>

            <community:joinHoverNewsletterFields userCmd="${userCmd}" showLDNewsletter="${true}"/>

        </ul>

        <gsml:inputImage src="/res/img/community/registration/join_button_hover.gif" alt="submit"
                         name="submit" onclick="return doSingleClick(this);" tabIndex="16"
                         id="submitButton"/>

        <p class="requiredFld" id="requiredFld">* Indicates a required field.</p>

        <p class="privacyBox" id="privacyBox">Your privacy is important to us. GreatSchools
            <gsml:popupWindow width="800" height="600" left="50" top="50"
                              title="GreatSchools Privacy Policy"
                              href="/about/privacyStatement.page?state=$STATE"
                              tabIndex="17">Privacy Policy</gsml:popupWindow>
        </p>

    </gsweb:form>

    <script type="text/javascript">
        $('firstName').focus();

        function noThanks() {
            parent.sendToDestination();
            return false;
        }
    </script>


    <div style="display: none;">
        <mod:tracking pageName="Newsletter Promo Hover - LD"
                      hier1="Newsletter, NL hover promo - LD"/>
    </div>
</gsml:body>
</html>
</jsp:root>