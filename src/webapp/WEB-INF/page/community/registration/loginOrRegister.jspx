<?xml version="1.0" encoding="UTF-8"?>
<jsp:root
        xmlns:jsp="http://java.sun.com/JSP/Page" version="1.2"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
        xmlns:fn="http://java.sun.com/jsp/jstl/functions"
        xmlns:spring="http://www.springframework.org/tags"
        xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
        xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
        xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
        xmlns:gsweb="gstaglib"
        xmlns:link="urn:www.greatschools.net/taglib/link"
        >
    <html lang="en">
    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
                doctype-system="http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

    <jsp:directive.page contentType="text/html"/>
    <pageHelper:setPathway pathway="99"/>
    <head>
        <![CDATA[
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
            ]]>
        <title>Join &amp;amp; Sign In - GreatSchools</title>
        <pageHelper:externalCss file="/res/css/community/registration/registration.css"/>
    </head>

    <gsml:body adPageName="login">

    <![CDATA[
    <!--[if IE 7]>
        <style type="text/css">
            #returninguser .checkboxLabel {
                margin: 1px 0 0 0;
            }
        </style>
    <![endif]-->
    ]]>

    <div id="reg_intro">
        <h1><span>Join &amp;amp; Sign In</span></h1>

        <div id="outline"><!-- creates darker blue outer outline -->
            <div id="content">
                <div id="newuser">
                    <span class="headerImage">
                        <link:registration email="${loginCmd.email}" redirect="${loginCmd.redirect}">
                            <gsml:img src="/res/img/community/registration/h2_newuser_126x72.gif" alt="New user? Join our community!"/>
                        </link:registration>
                    </span>

                    <div class="join"><link:registration email="${loginCmd.email}" redirect="${loginCmd.redirect}" title="Join the GreatSchools Community"></link:registration></div>

                    <link:registration email="${loginCmd.email}" redirect="${loginCmd.redirect}">
                        <gsml:img src="/res/img/community/registration/join-signin_photo.jpg" alt="Photo of mom and daughter"/>
                    </link:registration>
                    <link:registration email="${loginCmd.email}" redirect="${loginCmd.redirect}" styleClass="intro">
                        Join the GreatSchools community<br/>and connect with parents who are<br/>
                        passionate about education! <strong>It's free!</strong>
                    </link:registration>
                </div>
                <!-- end: newuser -->
                <div id="returninguser">
                    <span class="headerImage">
                        <gsml:img src="/res/img/community/registration/h2_returninguser_171x65.gif" alt="Returning user? Yes! I'm already a member"/>
                    </span>

                    <gsweb:form action="/community/loginOrRegister.page" method="post">

                        <gsml:errorMessage command="loginCmd" styleClass="warning" useImage="true"/>
                        <p>
                            <label>Email address</label>
                            <spring:bind path="loginCmd.email">
                                <input type="text" name="${status.expression}" value="${status.value}"/>
                            </spring:bind>
                        </p>

                        <p style="clear: left;">
                            <label>Password</label>
                                <spring:bind path="loginCmd.password">
                                    <input type="password" name="${status.expression}" value="${status.value}"/>
                                </spring:bind>
                        </p>

                        <gsml:checkbox name="loginCmd.rememberMe" checked="${loginCmd.rememberMe}" styleClass="checkbox" styleId="rememberMe"/>
                        <p><label class="checkboxLabel" for="rememberMe">Remember me</label></p>

                        <spring:bind path="loginCmd.redirect">
                            <input type="hidden" name="${status.expression}" value="${status.value}"/>
                        </spring:bind>

                        <gsml:inputImage src="/res/img/community/registration/submit_signin.gif" alt="Sign in" styleClass="signin"/>

                    </gsweb:form>

                    <p>
                        <c:if test="${loginCmd.email != null and loginCmd.email != ''}">
                            <link:forgotPassword email="${loginCmd.email}" title="Forgot password">Forgot password?</link:forgotPassword>
                        </c:if>
                        <c:if test="${loginCmd.email == null or loginCmd.email == ''}">
                            <link:forgotPassword title="Forgot password">Forgot password?</link:forgotPassword>
                        </c:if>
                    </p>
                </div>
                <!-- end: returninguser -->
            </div>
            <!-- end: content -->
        </div>
        <!-- end: outline -->
    </div>
    <!-- end: main -->

    <mod:tracking pageName="Login or Register"
                  pageType="account"
                  hier1="Account,Registration,Login"/>
    </gsml:body>
    </html>
</jsp:root>