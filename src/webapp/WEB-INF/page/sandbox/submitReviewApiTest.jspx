<?xml version="1.0" encoding="UTF-8"?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml" version="2.0"
          xmlns:gsweb="gstaglib"
        >
    <jsp:directive.page import="gs.web.util.UrlUtil"/>
    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
                doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>
    <jsp:directive.page contentType="text/html"/>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <title>Test the Submit Review API</title>
        <jsp:scriptlet>
            String apiHost = "api.greatschools.org";
            if (UrlUtil.isDeveloperWorkstation(request.getServerName())) {
                apiHost = "localhost/apiservice";
            } else if (UrlUtil.isStagingServer(request.getServerName())) {
                apiHost = "api.staging.greatschools.org";
            } else if (UrlUtil.isDevEnvironment(request.getServerName())) {
                apiHost = "api.dev.greatschools.org";
            }
            request.setAttribute("apiHost", apiHost);
        </jsp:scriptlet>
    </head>
    <body>
    <h1>Test the Submit Review API</h1>
    <form action="http://${apiHost}/reviews/submit?key=1234abc" method="POST">
        <input type="hidden" name="key" value="1234abc"/>
        <label>School Id: </label>
        <input type="text" name="school_id" size="4" value="1"/>
        <br/>
        <label>State: </label>
        <gsweb:stateSelector state="CA" styleId="userState" allowNoState="false"/>
        <br/>
        <label>Review: </label><br/>
        <![CDATA[<textarea rows="5" cols="64" name="review"></textarea>]]>
        <br/>
        <label>Overall rating: </label>
        <select name="overall_rating">
            <option value="">None</option>
            <option value="1">1 star</option>
            <option value="2">2 stars</option>
            <option value="3">3 stars</option>
            <option value="4">4 stars</option>
            <option value="5">5 stars</option>
        </select>
        <br/>
        <label>Email: </label>
        <input type="text" name="email" size="64" value="aroy@greatschools.org"/>
        <br/>
        <label>User type: </label>
        <select name="user_type">
            <option value="parent">parent</option>
            <option value="teacher">teacher</option>
            <option value="principal">principal</option>
            <option value="other">other</option>
            <option value="student">student</option>
            <option value="former student">former student</option>
            <option value="administrator">administrator</option>
            <option value="staff">staff</option>
        </select>
        <br/>
        <input type="submit" value="Submit"/>
    </form>

    </body>
    </html>
</jsp:root>