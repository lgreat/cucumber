<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page"
          xmlns="http://www.w3.org/1999/xhtml"
          xmlns:ad="urn:jsptagdir:/WEB-INF/tags/ad"
          xmlns:apidoc="urn:jsptagdir:/WEB-INF/tags/api/docs"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:content="urn:jsptagdir:/WEB-INF/tags/content"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:gsweb="gstaglib"
          xmlns:link="urn:www.greatschools.org/taglib/link"
          xmlns:mod="urn:jsptagdir:/WEB-INF/tags/mod"
          version="2.0" xmlns:form="http://www.springframework.org/tags/form">
<jsp:directive.page import="gs.web.util.UrlUtil"/>

    <c:set var="pageName" value="API Documentation"/>
    <html>
    <jsp:output doctype-root-element="html"
                doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN"
                doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"/>

    <jsp:directive.page contentType="text/html"/>

    <head>
        <title>GreatSchools.org API Browse Schools Documentation</title>
        <meta content="todo" name="description"/>
        <meta content="todo" name="keywords"/>
        <pageHelper:externalCss file="/res/css/api/api_doc.css"/>

        <jsp:scriptlet>
            request.setAttribute("apiHost", UrlUtil.getApiHostname(request.getServerName()));
        </jsp:scriptlet>
    </head>

    <gsml:body pageLayout="nocol" adPageName="apiDocs">
    <div id="api_docs">
        <jsp:include page="/api/leftNav.module" />

        <div class="content">


            <div class="callfirst">
                <h2>Browse Schools</h2>
                Returns a list of schools in a city. All calls for a Browse Schools are in this format:
                <div class="sample_url">http://${apiHost}/schools/[components]?[parameters]</div>
            </div>
            <div class="call">
                <h2>Components</h2>

                Components of the url describe what type of data you would like.
                They are separated by forward slashes.
                <table class="call_params">
                    <thead>
                    <tr class="fields">
                        <td class="fieldname">Name</td>
                        <td class="fielddescription">Description</td>
                        <td class="fieldsample">Sample Values</td>
                   </tr>
                    </thead>
                    <tbody>
                    <tr class="required">
                        <td>state*</td>
                        <td>Two letter state abbreviation</td>
                        <td>ak<br/>CA</td>
                    </tr>
                    <tr>
                        <td>city*</td>
                        <td>Name of city, with spaces replaced with hyphens.
                            If the city name has hyphens, replace those with underscores.</td>
                        <td>San Francisco becomes "San-Francisco"
                            <br/>Cardiff-By-The-Sea becomes "Cardiff_By_The_Sea"
                        </td>
                    </tr>
                    <tr>
                        <td>school type</td>
                        <td>Type of school you wish to appear in the list</td>
                        <td>Valid values: "public", "charter", "private",
                            or any combination separated by hyphens, like "public-charter"</td>
                    </tr>
                    <tr>
                        <td>level</td>
                        <td>Level of school you wish to appear in the list</td>
                        <td>Valid values: "elementary-schools", "middle-schools", "high-schools" </td>
                    </tr>
                    </tbody>
                </table>
                <div class="footnote">*required</div>

            </div>
            <div class="call">
                <h2>Parameters</h2>
                The "key" parameter is what you use to send us your API key.
                Other parameters are optional and used to describe how you would like to receive the data.
                <table class="call_params">
                    <thead>
                    <tr class="fields">
                        <td class="fieldname">Name</td>
                        <td class="fielddescription">Description</td>
                        <td class="fieldsample">Sample Values</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="required">
                        <td>key*</td>
                        <td>Your API key</td>
                        <td>myAPIkey</td>
                    </tr>
                    <tr>
                        <td>sort</td>
                        <td>How to sort the results, either by name (ascending),
                            by GS rating (descending), or by overall parent rating
                            (descending). The default sort is name (ascending).
                            When sorted by rating, schools without a rating will
                            appear last.
                        </td>
                        <td>Valid values: "name", "gs_rating", "parent_rating"</td>
                    </tr>
                    <tr>
                        <td>limit</td>
                        <td>Maximum number of schools to return. This defaults to 200.
                            <br/>To get all results, use -1.
                        </td>
                        <td>10</td>
                    </tr>
                    </tbody>
                </table>
                <div class="footnote">*required</div>
                <!-- examples of usage -->
                Examples of usage:
                <div class="example_url">http://${apiHost}/schools/CA/Alameda?key=[yourAPIkey]</div>
                Returns up to 200 schools in the city of Alameda, CA
                <div class="example_url">http://${apiHost}/schools/CA/Alameda?key=[yourAPIkey]&amp;amp;limit=-1</div>
                Returns all schools in the city of Alameda, CA
                <div class="example_url">http://${apiHost}/schools/CA/San-Francisco/private/middle-schools?key=[yourAPIkey]&amp;amp;sort=parent_rating&amp;amp;limit=5</div>
                Returns 5 private middle schools in San Francisco, CA, sorting by parent rating
            </div>
            <div class="call">
                <h2>Sample Request</h2>
                <div class="sample_url">http://${apiHost}/schools/CA/Truckee?key=[yourAPIkey]&amp;amp;limit=2</div>
                Returns 2 schools in Truckee, CA
            </div>
            <div class="call">
                <h2>Sample Response</h2>
                <textarea class="sampleTextArea" wrap="off" readonly="readonly" rows="" cols="">
&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;
&amp;lt;schools&amp;gt;
    &amp;lt;school&amp;gt;
        &amp;lt;gsId&amp;gt;13978&amp;lt;/gsId&amp;gt;
        &amp;lt;name&amp;gt;Alder Creek Middle School&amp;lt;/name&amp;gt;
        &amp;lt;type&amp;gt;public&amp;lt;/type&amp;gt;
        &amp;lt;gradeRange&amp;gt;6-8&amp;lt;/gradeRange&amp;gt;
        &amp;lt;enrollment&amp;gt;598&amp;lt;/enrollment&amp;gt;
        &amp;lt;city&amp;gt;Truckee&amp;lt;/city&amp;gt;
        &amp;lt;state&amp;gt;CA&amp;lt;/state&amp;gt;
        &amp;lt;districtId&amp;gt;509&amp;lt;/districtId&amp;gt;
        &amp;lt;district&amp;gt;Tahoe-Truckee Joint Unified School District&amp;lt;/district&amp;gt;
        &amp;lt;districtNCESId&amp;gt;0638770&amp;lt;/districtNCESId&amp;gt;
        &amp;lt;address&amp;gt;10931 Alder Dr.,
        Truckee, CA  96161&amp;lt;/address&amp;gt;
        &amp;lt;phone&amp;gt;(530) 582-2750&amp;lt;/phone&amp;gt;
        &amp;lt;fax&amp;gt;(530) 582-7640&amp;lt;/fax&amp;gt;
        &amp;lt;website&amp;gt;http://www.ttusd.org&amp;lt;/website&amp;gt;
        &amp;lt;ncesId&amp;gt;063877011005&amp;lt;/ncesId&amp;gt;
        &amp;lt;lat&amp;gt;39.3454&amp;lt;/lat&amp;gt;
        &amp;lt;lon&amp;gt;-120.1735&amp;lt;/lon&amp;gt;
        &amp;lt;overviewLink&amp;gt;http://www.greatschools.org/modperl/browse_school/ca/13978?s_cid=gsapi&amp;lt;/overviewLink&amp;gt;
        &amp;lt;ratingsLink&amp;gt;http://www.greatschools.org/school/rating.page?state=CA&amp;amp;id=13978&amp;amp;s_cid=gsapi&amp;lt;/ratingsLink&amp;gt;
        &amp;lt;reviewsLink&amp;gt;http://www.greatschools.org/school/parentReviews.page?state=CA&amp;amp;id=13978&amp;amp;s_cid=gsapi&amp;lt;/reviewsLink&amp;gt;
    &amp;lt;/school&amp;gt;
    &amp;lt;school&amp;gt;
        &amp;lt;gsId&amp;gt;11039&amp;lt;/gsId&amp;gt;
        &amp;lt;name&amp;gt;Cold Stream Alternative School&amp;lt;/name&amp;gt;
        &amp;lt;type&amp;gt;public&amp;lt;/type&amp;gt;
        &amp;lt;gradeRange&amp;gt;9-12&amp;lt;/gradeRange&amp;gt;
        &amp;lt;enrollment&amp;gt;47&amp;lt;/enrollment&amp;gt;
        &amp;lt;city&amp;gt;Truckee&amp;lt;/city&amp;gt;
        &amp;lt;state&amp;gt;CA&amp;lt;/state&amp;gt;
        &amp;lt;districtId&amp;gt;509&amp;lt;/districtId&amp;gt;
        &amp;lt;district&amp;gt;Tahoe-Truckee Joint Unified School District&amp;lt;/district&amp;gt;
        &amp;lt;districtNCESId&amp;gt;0638770&amp;lt;/districtNCESId&amp;gt;
        &amp;lt;address&amp;gt;11661 Donner Pass Rd.,
        Truckee, CA  96161&amp;lt;/address&amp;gt;
        &amp;lt;phone&amp;gt;(530) 582-2640&amp;lt;/phone&amp;gt;
        &amp;lt;fax&amp;gt;(530) 582-7640&amp;lt;/fax&amp;gt;
        &amp;lt;ncesId&amp;gt;063877006175&amp;lt;/ncesId&amp;gt;
        &amp;lt;lat&amp;gt;39.3259&amp;lt;/lat&amp;gt;
        &amp;lt;lon&amp;gt;-120.2147&amp;lt;/lon&amp;gt;
        &amp;lt;overviewLink&amp;gt;http://www.greatschools.org/modperl/browse_school/ca/11039?s_cid=gsapi&amp;lt;/overviewLink&amp;gt;
        &amp;lt;ratingsLink&amp;gt;http://www.greatschools.org/school/rating.page?state=CA&amp;amp;id=11039&amp;amp;s_cid=gsapi&amp;lt;/ratingsLink&amp;gt;
        &amp;lt;reviewsLink&amp;gt;http://www.greatschools.org/school/parentReviews.page?state=CA&amp;amp;id=11039&amp;amp;s_cid=gsapi&amp;lt;/reviewsLink&amp;gt;
    &amp;lt;/school&amp;gt;
&amp;lt;/schools&amp;gt;

                </textarea>
            </div>

            <div class="call">
                <h2>Have Questions?</h2>
                <div class="questions">To ask questions or to report bugs please email
                    api-support@greatschools.org. Please do not abuse our API. Review the
                <a href="/api/docs/terms.page" style="" title="GreatSchools Terms of Use"
                   onclick="Popup=window.open('/api/docs/terms.page','Popup','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=no, width=800,height=600,left=50,top=50'); return false;">Terms of Use</a>.
                </div>
            </div>
        </div>

        <!-- <apidoc:sidebar current="schools"/> -->
    </div>
        <div class="dn"><mod:tracking pageName="API Documentation Browse Schools" hier1="API,Documentation"/></div>
    </gsml:body>
    </html>
</jsp:root>