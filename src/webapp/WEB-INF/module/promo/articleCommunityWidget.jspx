<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.0"
          xmlns:gsml="urn:jsptagdir:/WEB-INF/tags/gsml"
          xmlns:cache="http://jakarta.apache.org/taglibs/cache-1.0"
          xmlns:content="urn:www.greatschools.net/taglib/content"
          xmlns:pageHelper="urn:jsptagdir:/WEB-INF/tags/pageHelper"
          xmlns:c="http://java.sun.com/jsp/jstl/core"
          xmlns:gsweb="gstaglib"
          xmlns:fn="http://java.sun.com/jsp/jstl/functions"
        >
    <pageHelper:externalCss file="/res/css/promo/articleCommunityWidget.css"/>
    <jsp:directive.page import="gs.web.util.context.SessionContextUtil"/>
    <jsp:scriptlet>
        String communityHostName =
                SessionContextUtil.getSessionContext(request).getSessionContextUtil().getCommunityHost(request);
        String communityURLPrefix = "http://" + communityHostName;
        request.setAttribute("communityURLPrefix", communityURLPrefix);
    </jsp:scriptlet>

    <![CDATA[
            <script type="text/javascript">
                <!--
                function articleCommunityTabClicked(tabClicked) {
                    var tabClass = tabClicked.getAttribute("class");
                    if (tabClass == null) {
                        tabClass = tabClicked.getAttribute("className");
                    }
                    if (tabClass != null && tabClass.indexOf("tabactive") == -1) {
                        if (tabClicked.id == "articleCommunityArticleTab") {
                            document.getElementById("articleCommunityPostList").style.display = 'none';
                            document.getElementById("articleCommunityArticleList").style.display = 'block';

                            var deactivateTab = document.getElementById("articleCommunityPostTab");
                            deactivateTab.setAttribute("class", "tabright ");
                            deactivateTab.setAttribute("className", "tabright ");
                            
                            tabClicked.setAttribute("class", "tableft tabactive");
                            tabClicked.setAttribute("className", "tableft tabactive");
                            if (s.tl) {
                                s.tl(tabClicked,'o', 'Overview_RC_Articles');
                            }
                        } else if (tabClicked.id == "articleCommunityPostTab") {
                            document.getElementById("articleCommunityArticleList").style.display = 'none';
                            document.getElementById("articleCommunityPostList").style.display = 'block';

                            var deactivateTab = document.getElementById("articleCommunityArticleTab");
                            deactivateTab.setAttribute("class", "tableft ");
                            deactivateTab.setAttribute("className", "tableft ");
                            
                            tabClicked.setAttribute("class", "tabright tabactive");
                            tabClicked.setAttribute("className", "tabright tabactive");
                            if (s.tl) {
                                s.tl(tabClicked,'o', 'Overview_RC_Posts');
                            }
                        }
                    }
                }
                -->
            </script>
            ]]>
    <div id="articleCommunityWidget" class="articleCommunityWidget">
        <div class="articleCommunityTitle">Choosing a School</div>
        <div id="resultstabs">
            <ul>
                <li id="articleCommunityArticleTab" class="tableft tabactive" onClick="articleCommunityTabClicked(this); return false;">
                    <a class="noInterstitial" href="#" onClick="return false;">Articles</a>
                </li>
                <li id="articleCommunityPostTab" class="tabright " onClick="articleCommunityTabClicked(this); return false;">
                    <a class="noInterstitial" href="#" onClick="return false;">Parent Posts</a>
                </li>
            </ul>
        </div>
        <ul id="articleCommunityArticleList" class="articleCommunityArticleList">
            <li class="greenarrow"><gsweb:articlelink articleId="96" styleId="Overview-choosingschool-articles__1" styleClass="GS_EV5_">Choosing a School: An Overview</gsweb:articlelink></li>
            <li class="greenarrow"><gsweb:articlelink articleId="48" styleId="Overview-choosingschool-articles__2" styleClass="GS_EV5_">The School Visit: What to Look For</gsweb:articlelink></li>
            <li class="greenarrow"><gsweb:articlelink articleId="87" styleId="Overview-choosingschool-articles__3" styleClass="GS_EV5_">Imagining Your Ideal School</gsweb:articlelink></li>
            <li class="greenarrow"><gsweb:articlelink articleId="197" styleId="Overview-choosingschool-articles__4" styleClass="GS_EV5_">Private vs. Public Schools</gsweb:articlelink></li>
            <li class="greenarrow lastitem"><a id="Overview-choosingschool-articles__5" class="GS_EV5_" href="http://school-choice.greatschools.net/">School Choice Blog: One Mom's Journey</a></li>
        </ul>
        <ul id="articleCommunityPostList" class="articleCommunityPostList" style="display: none;">
            <li class="advice"><a href="${communityURLPrefix}/advice/117/What-to-Look-for-in-a-School" id="Overview-choosingschool-parentposts__1" class="GS_EV5_">What to Look for in a School</a></li>
            <li class="question"><a href="${communityURLPrefix}/q-and-a/163385/How-do-I-tell-my-Daughter-we-have-to-move-to-a-different-state" id="Overview-choosingschool-parentposts__2" class="GS_EV5_">How do I tell my daughter that we have to move to a different state?</a></li>
            <li class="question"><a href="${communityURLPrefix}/q-and-a/182732/Which-is-better-a-small-or-a-large-school" id="Overview-choosingschool-parentposts__3" class="GS_EV5_">Which is better--a small or large school?</a></li>
            <li class="question lastitem"><a href="${communityURLPrefix}/q-and-a/163731/Do-I-keep-my-child-in-current-school-or-transfer-to-new-one" id="Overview-choosingschool-parentposts__4" class="GS_EV5_">Do I keep my child in his current school or transfer him to a new one?</a></li>
        </ul>
    </div>
</jsp:root>