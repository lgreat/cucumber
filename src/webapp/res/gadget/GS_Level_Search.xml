<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs
        title="GreatSchools Search"
        title_url="http://www.greatschools.org/"
        description="Search PreK-12 public, charter and private schools nationwide"
        height="185"
        width="185"
        directory_title="GreatSchools Grade Level Search"
        screenshot="http://www.greatschools.org/res/img/gadget/GS_Level_Search_Screenshot.png"
        thumbnail="http://www.greatschools.org/res/img/gadget/GS_Level_Search_Thumbnail.png"
        author="GreatSchools"
        author_affiliation="GreatSchools"
        author_location="San Francisco, CA, USA"
        author_email="googlegadgets@greatschools.org"
        scrolling="false"
        scaling="false"
        />
<UserPref name="level"
          display_name="Grade Level"
          datatype="enum"
          default_value="p">
    <EnumValue value="p" display_value="Preschools"/>
    <EnumValue value="e" display_value="Elementary Schools"/>
    <EnumValue value="m" display_value="Middle Schools"/>
    <EnumValue value="h" display_value="High Schools"/>
</UserPref>
<UserPref name="city" display_name="Default city" default_value=""/>
<UserPref name="state" display_name="Default state (use uppercase abbreviation)" default_value=""/>
<UserPref name="cobrand" display_name="Cobrand URL prefix (e.g. XXX.greatschools.org, just the XXX)"
          default_value="www"/>
<Content type="html">
<![CDATA[
<div style="border: 2px solid #fff;">
    <div style="padding: 12px 5px 0 6px; border: 2px solid #fff; border-bottom: 14px solid #fff;">
        <div style="background:url(http://www.greatschools.org/res/img/gadget/border_dot.png) repeat-x left bottom; padding: 0 0 16px 0;">
            <a id="logoLink" href="http://www.greatschools.org/"></a><br/>
            <img id="header" style="padding-top: 5px" alt="School Finder"
                 src="http://www.greatschools.org/res/img/gadget/school_search_preschool.gif"/>
        </div>
        <div style="padding: 16px 0 5px 0;">
            <form action="http://www.greatschools.org/search/search.page" name="" id="searchForm"
                  style="margin:0; padding:0;" target="gsSearch"
                  onsubmit="window.open('', 'gsSearch', 'width=910,height=600,status=yes,resizable=yes,scrollbars=yes,toolbar=yes,location=yes,menubar=yes')">
                <label id="level" style="font: bold 10px 'Trebuchet MS', sans-serif; color:#777;">Find Schools
                    Nationwide</label><br/>
                <input id="location" name="q" type="text"
                       style="font: 11px 'Trebuchet MS', sans-serif; color:#777; padding: 2px 7px; margin-top: 6px; width:145px; border: 1px solid #777; display: block"
                       value="" onfocus="textSwitch('location', true);" onblur="textSwitch('location', false);"/>
                <select name="state" id="stateSelect"
                        style="font: 11px 'Trebuchet MS', sans-serif; color:#777; margin: 11px 14px 0 0;">
                    <option selected="selected" value="">--</option>
                    <option value="AK">AK</option>
                    <option value="AL">AL</option>
                    <option value="AR">AR</option>
                    <option value="AZ">AZ</option>
                    <option value="CA">CA</option>
                    <option value="CO">CO</option>
                    <option value="CT">CT</option>
                    <option value="DC">DC</option>
                    <option value="DE">DE</option>
                    <option value="FL">FL</option>
                    <option value="GA">GA</option>
                    <option value="HI">HI</option>
                    <option value="IA">IA</option>
                    <option value="ID">ID</option>
                    <option value="IL">IL</option>
                    <option value="IN">IN</option>
                    <option value="KS">KS</option>
                    <option value="KY">KY</option>
                    <option value="LA">LA</option>
                    <option value="MA">MA</option>
                    <option value="MD">MD</option>
                    <option value="ME">ME</option>
                    <option value="MI">MI</option>
                    <option value="MN">MN</option>
                    <option value="MO">MO</option>
                    <option value="MS">MS</option>
                    <option value="MT">MT</option>
                    <option value="NC">NC</option>
                    <option value="ND">ND</option>
                    <option value="NE">NE</option>
                    <option value="NH">NH</option>
                    <option value="NJ">NJ</option>
                    <option value="NM">NM</option>
                    <option value="NV">NV</option>
                    <option value="NY">NY</option>
                    <option value="OH">OH</option>
                    <option value="OK">OK</option>
                    <option value="OR">OR</option>
                    <option value="PA">PA</option>
                    <option value="RI">RI</option>
                    <option value="SC">SC</option>
                    <option value="SD">SD</option>
                    <option value="TN">TN</option>
                    <option value="TX">TX</option>
                    <option value="UT">UT</option>
                    <option value="VA">VA</option>
                    <option value="VT">VT</option>
                    <option value="WA">WA</option>
                    <option value="WI">WI</option>
                    <option value="WV">WV</option>
                    <option value="WY">WY</option>
                </select>
                <input type="hidden" name="c" value="school"/> <input id="lc" type="hidden" name="lc" value="p"/>
                <input type="hidden" name="cpn" value="GoogleGadget_Level_Search185"/>
                <input type="image" src="http://www.greatschools.org/res/img/gadget/gobutton.png" alt="GO" value=""
                       name="" style="border:none; margin-top:11px; vertical-align:bottom;"/>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    var logoImage = _IG_GetImage("http://www.greatschools.org/res/img/gadget/logo_100x19.png");
    logoImage.border = 0;
    _gel("logoLink").appendChild(logoImage);
    if (document.getElementById("remote_" + __MODULE_ID__)) {
        document.getElementById("remote_" + __MODULE_ID__).style.width = _args()["w"];
    }
    var prefs = new _IG_Prefs();
    var level = prefs.getString("level");
    _gel("lc").value = level;
    var headerNode = document.getElementById("header");
    var urlPrefix = "http://www.greatschools.org/res/img/gadget/school_search_";
    switch (level) { case "e": headerNode.src = urlPrefix + "elementary.gif"; break; case "m": headerNode.src = urlPrefix + "middle.gif"; break; case "h": headerNode.src = urlPrefix + "high.gif"; break; }
    var defaultCity = prefs.getString("city");
    if (defaultCity != null && defaultCity > '') {
        _gel("location").value = defaultCity;
    }
    var defaultState = prefs.getString("state");
    if (defaultState != null && defaultState > '') {
        _gel("stateSelect").value = defaultState;
    }
    var cobrand = prefs.getString("cobrand");
    if (cobrand != null && cobrand > '') {
        var baseUrl = 'http://' + cobrand + '.greatschools.org';
        _gel("logoLink").href = baseUrl;
        _gel("searchForm").action = baseUrl + '/search/search.page';
    }
    function textSwitch(el, blank) {
        var text = "School, city or district";
        if (level == 'p') text = "School, city or zip";
        el = document.getElementById(el);
        if (blank) {
            if (el.value == text) el.value = '';
        } else {
            if (el.value == '') el.value = text;
        }
    }
    textSwitch('location', false);
</script>
]]>
</Content>
</Module>